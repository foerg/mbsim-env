<?xml version="1.0" encoding="UTF-8"?>
<DynamicSystemSolver name="TS" 
  xmlns="http://mbsim.berlios.de/MBSim"
  xmlns:pv="http://openmbv.berlios.de/MBXMLUtils/physicalvariable"
  xmlns:ombv="http://openmbv.berlios.de/OpenMBV"
  xmlns:h="http://mbsim.berlios.de/MBSimHydraulics"
  xmlns:c="http://mbsim.berlios.de/MBSimControl">
  <frames>
    <frame>
      <Frame name="AnregungC"/>
      <position>[0;pistonRadius; 0 ]</position>
      <orientation>eye(3)</orientation>
    </frame>
  </frames>
  <contours/>
  <groups>
    <pv:embed href="BallCheckvalveSystem.xml" count="1" counterName="xxx"/>
  </groups>
  <objects>
    <RigidBody name="Anregung">
      <frameOfReference ref="../Frame[AnregungC]"/>
      <!--
      <frameOfReference ref="../Frame[I]"/>
      -->
      <frameForKinematics ref="Frame[C]"/>
      <mass>1.</mass>
      <inertiaTensor>eye(3)</inertiaTensor>
      <translation>
        <TimeDependentTranslation1D>
          <direction>[0;1;0]</direction>
          <position>
            <Function1_SS_from_VS>
              <SinusFunction1_VS>
                <amplitude>A</amplitude>
                <frequency>f</frequency>
                <phase>pi/2</phase>
              </SinusFunction1_VS>
            </Function1_SS_from_VS>
          </position>
        </TimeDependentTranslation1D>
      </translation>
      <rotation/>
      <guidingVelocityOfTranslation>
        <SinusFunction1_VS>
          <amplitude>2*pi*f * A *  [0;1;0]</amplitude>
          <frequency>f*ones(3,1)</frequency>
          <phase>pi*ones(3,1)</phase>
        </SinusFunction1_VS>
      </guidingVelocityOfTranslation>
      <derivativeOfGuidingVelocityOfTranslation>
        <SinusFunction1_VS>
          <amplitude>(2*pi*f)^2 * A * [0;1;0]</amplitude>
          <frequency>f*ones(3,1)</frequency>
          <phase>1.5*pi*ones(3,1)</phase>
        </SinusFunction1_VS>
      </derivativeOfGuidingVelocityOfTranslation>
      <frames>
        <frame>
          <Frame name="LineF">
            <enableOpenMBV>
              <size>.005</size>
              <offset>1.</offset>
            </enableOpenMBV>
          </Frame>
          <frameOfReference ref="Frame[C]"/>
          <position>zeros(3,1)</position>
          <orientation>[0,-1,0;1,0,0;0,0,1]'</orientation>
        </frame>
      </frames>
      <contours>
        <contour>
          <Line name="Line"/>
          <frameOfReference ref="Frame[LineF]"/>
          <position>[0; 0; 0]</position>
          <orientation>eye(3)</orientation>
        </contour>
      </contours>
      <openMBVRigidBody>
        <ombv:Frustum name="Frustum">
          <ombv:staticColor>0</ombv:staticColor>
          <ombv:initialTranslation>[0; 0; 0]</ombv:initialTranslation>
          <ombv:initialRotation>[pi/2; 0; 0]</ombv:initialRotation>
          <ombv:scaleFactor>1.</ombv:scaleFactor>
          <ombv:baseRadius>4.2945e-3</ombv:baseRadius>
          <ombv:topRadius>4.2945e-3</ombv:topRadius>
          <ombv:height>.005</ombv:height>
          <ombv:innerBaseRadius>4.1e-3</ombv:innerBaseRadius>
          <ombv:innerTopRadius>4.1e-3</ombv:innerTopRadius>
        </ombv:Frustum>
      </openMBVRigidBody>
      <enableOpenMBVFrameC>
        <size>.001</size>
        <offset>1.</offset>
      </enableOpenMBVFrameC>
    </RigidBody>
  </objects>
  <links>
    <Contact name="AnregungContact">
      <contactForceLaw>
        <!--
        <UnilateralConstraint/>
        -->
        <RegularizedUnilateralConstraint>
          <forceFunction>
            <LinearRegularizedUnilateralConstraint>
              <stiffnessCoefficient>1e7</stiffnessCoefficient>
              <dampingCoefficient>1e4</dampingCoefficient>
            </LinearRegularizedUnilateralConstraint>
          </forceFunction>
        </RegularizedUnilateralConstraint>
      </contactForceLaw>
      <contactImpactLaw>
        <!--
        <UnilateralNewtonImpact>
          <restitutionCoefficient>.1</restitutionCoefficient>
        </UnilateralNewtonImpact>
        -->
      </contactImpactLaw>
      <frictionForceLaw/>
      <frictionImpactLaw/>
      <connect ref1="../Object[Anregung]/Contour[Line]" ref2="../Group[BallCheckvalveSystem]/Object[Piston]/Contour[Contour]"/>
    </Contact>
    <c:AbsolutePositionSensor name="AnregungPos">
      <c:frame ref="../Object[Anregung]/Frame[C]"/>
      <c:direction>[0;1;0]</c:direction>
    </c:AbsolutePositionSensor>
    <c:AbsoluteVelocitySensor name="AnregungVel">
      <c:frame ref="../Object[Anregung]/Frame[C]"/>
      <c:direction>[0;1;0]</c:direction>
    </c:AbsoluteVelocitySensor>
  </links>
  <environments>
    <MBSimEnvironment>
      <accelerationOfGravity>[0;-9.81;0]</accelerationOfGravity>
    </MBSimEnvironment>
    <h:HydraulicEnvironment>
      <h:environmentPressure>1e5</h:environmentPressure>
      <h:specificMass>
        <!--<h:constantSpecificMass>800</h:constantSpecificMass>-->
        <!--<h:volumeDependingOnTemperature>
          <h:dVdT>-.8</h:dVdT>
          <h:basicSpecificMass>1200</h:basicSpecificMass>
          <h:basicTemperature>10</h:basicTemperature>
        </h:volumeDependingOnTemperature>-->
        <h:specificMassDependingOnTemperature>
          <h:dRhodT>-.8</h:dRhodT>
          <h:basicSpecificMass>1200</h:basicSpecificMass>
          <h:basicTemperature>10</h:basicTemperature>
        </h:specificMassDependingOnTemperature>
      </h:specificMass>
      <h:kinematicViscosity>
        <!--<h:constantKinematicViscosity>12e-6</h:constantKinematicViscosity>-->
        <h:walterUbbeohdeKinematicViscosity>
          <h:temperature1>40</h:temperature1>
          <h:kinematicViscosity1>55e-6</h:kinematicViscosity1>
          <h:temperature2>100</h:temperature2>
          <h:kinematicViscosity2>10e-6</h:kinematicViscosity2>
        </h:walterUbbeohdeKinematicViscosity>
      </h:kinematicViscosity>
      <h:basicBulkModulus>2e11</h:basicBulkModulus>
      <h:kappa>1.4</h:kappa>
      <h:fluidTemperature>50</h:fluidTemperature>
    </h:HydraulicEnvironment>
  </environments>
</DynamicSystemSolver>
