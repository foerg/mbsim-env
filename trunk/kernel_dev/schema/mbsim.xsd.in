<?xml version="1.0" encoding="UTF-8"?>
<xs:schema targetNamespace="http://mbsim.berlios.de/MBSim"
  elementFormDefault="qualified"
  attributeFormDefault="unqualified"
  xmlns="http://mbsim.berlios.de/MBSim"
  xmlns:mbsim="http://mbsim.berlios.de/MBSim"
  xmlns:pv="http://openmbv.berlios.de/MBXMLUtils/physicalvariable"
  xmlns:ombv="http://openmbv.berlios.de/OpenMBV"
  xmlns:xml="http://www.w3.org/XML/1998/namespace"
  xmlns:xs="http://www.w3.org/2001/XMLSchema">

  <xs:annotation>
    <xs:documentation xml:lang="de" xmlns="http://www.w3.org/1999/xhtml">
      MBSim ist ein Simulationstool zur Analyse von dynamischen Systemen. Die Basis von MBSim liegt
      in der Modellierung von nichtglatten dynamischen Systemen, woraus der Name des Programms stammt.
      Der mathematische Hintergrund wurde über Jahre hinweg am Lehrstuhl für Angewandte Mechanik der
      Technischen Universität München entwickelt. Eine Übersicht über derartige Mehrkörpersysteme
      ist in der Doktorarbeit und dem Vorlesungsskript von Martin Förg [1,2] zu finden. Roland Zander
      erweiterte das System um flexible Körper [3]. In [4] ist ein Überblick über die Forschung am
      Lehrstuhl für Angewandte Mechanik während der letzten Jahrzehnte auf dem Gebiet der
      nichtglatten Mechanik gegeben. Dort sind auch Simulationsergebnisse von akademischen und
      industriellen Beispielen gegeben. Erweiterungen bezüglich Hydraulik und Regelungstechnik sowie
      Parallelisierung und Co-Simulation sind ebenfalls gegeben.
      <ol>
        <li>Martin Förg. <i>Mehrkörpersysteme mit mengenwertigen Kraftgesetzen - Theorie und Numerik.</i>
          PhD thesis, TU München, 2007.</li>
        <li>Martin Förg. <i>Mehrkörpersimulation - Vorlesungsskript</i>, München, 2006, Version 19.06.2008.</li>
        <li>Roland Zander. <i>Flexible Multibody Systems with Set-Valued Force Laws.</i> PhD thesis,
          TU München, 2008.</li>
        <li>Roland Zander, Thorsten Schindler, Markus Friedrich, Robert Huber, Martin Förg, and Heinz
          Ulbrich. <i>Non-smooth dynamics in academia and industry: recent work at TU München.</i>
          Acta Mechanica, 195:167–183, 2008.</li>
      </ol>
    </xs:documentation>
  </xs:annotation>

  <xs:import namespace="http://openmbv.berlios.de/MBXMLUtils/physicalvariable"
    schemaLocation="@MBXMLUTILSSCHEMA@/physicalvariable.xsd"/>

  <xs:import namespace="http://openmbv.berlios.de/OpenMBV"
    schemaLocation="@OPENMBVCPPINTERFACESCHEMA@/openmbv.xsd"/>

  <!-- for xml:base attribute: include xml namespaces defining attribute xml:base -->
  <xs:import namespace="http://www.w3.org/XML/1998/namespace"
    schemaLocation="@MBXMLUTILSSCHEMA@/xml.xsd"/>



  <xs:simpleType name="PlotFeatureType">
    <xs:annotation><xs:documentation xml:lang="de" xmlns="http://www.w3.org/1999/xhtml">
      Bestimmt, welche Plotausgaben aktiviert bzw. deaktiviert werden. Die folgenden Werte sind
      jeweils mit einem vorangestellten '<b>+</b>' oder '<b>-</b>' zulässig. Ein '<b>+</b>' aktiviert das entsprechende
      Plotfeature, ein '<b>-</b>' deaktiviert es (Der default Wert ist in eckigen Klammern angegeben):
      <dl>
        <dt>plotRecursive</dt>
          <dd>Aktiviert/Deaktiviert das Plotten unterhalb dieser hiearchy Gruppe [+]</dd>
        <dt>separateFilePerGroup</dt>
          <dd>Erzeugt ein eigenes H5 File für diese Gruppe [-]</dd>
        <dt>state</dt>
          <dd>Zustandsvektor plotten (x, q, u) [+]</dd>
        <dt>stateDerivative</dt>
          <dd>Ableitung des Zustandsvektors plotten (xd, qd, ud) [-]</dd>
        <dt>rightHandSide</dt>
          <dd>Glatte und nicht glatte rechte Seite plotten (h, r=W*l) [-]</dd>
        <dt>globalPosition</dt>
          <dd>Globale (world) Positionen und Orientierungen plotten [-]</dd>
        <dt>energy</dt>
          <dd>Energie plotten [-]</dd>
        <dt>openMBV</dt>
          <dd>OpenMBV Visualisierung ausgeben [+]</dd>
        <dt>generalizedLinkForce</dt>
          <dd>Glatte und nicht glatte generalisierte Link Kräfte plotten (l) [+]</dd>
        <dt>linkKinematics</dt>
          <dd>Kinematic der Links plotten (g, gd) [+]</dd>
        <dt>stopVector</dt>
          <dd>Stopvektor der Schaltpunktsuche plotten [+]</dd>
      </dl>
    </xs:documentation></xs:annotation>
    <xs:restriction base="xs:token">
      <xs:enumeration value="+plotRecursive"/>
      <xs:enumeration value="-plotRecursive"/>
      <xs:enumeration value="+separateFilePerGroup"/>
      <xs:enumeration value="-separateFilePerGroup"/>
      <xs:enumeration value="+state"/>
      <xs:enumeration value="-state"/>
      <xs:enumeration value="+stateDerivative"/>
      <xs:enumeration value="-stateDerivative"/>
      <xs:enumeration value="+rightHandSide"/>
      <xs:enumeration value="-rightHandSide"/>
      <xs:enumeration value="+globalPosition"/>
      <xs:enumeration value="-globalPosition"/>
      <xs:enumeration value="+energy"/>
      <xs:enumeration value="-energy"/>
      <xs:enumeration value="+openMBV"/>
      <xs:enumeration value="-openMBV"/>
      <xs:enumeration value="+generalizedLinkForce"/>
      <xs:enumeration value="-generalizedLinkForce"/>
      <xs:enumeration value="+linkKinematics"/>
      <xs:enumeration value="-linkKinematics"/>
      <xs:enumeration value="+stopVector"/>
      <xs:enumeration value="-stopVector"/>
    </xs:restriction>
  </xs:simpleType>

  <!-- A reference to a Frame at the same hierarchy -->
  <xs:simpleType name="CurrentFrameReferenceType">
    <xs:annotation><xs:documentation xml:lang="de" xmlns="http://www.w3.org/1999/xhtml">
      Definiert eine Pfadangabe zu einem <tt><a class="link" href="mbsim:Frame">&lt;Frame&gt;</a></tt> im aktuellen Kontext.
      Gültige Werte sind <tt>Frame[X]</tt>, wobei <tt>X</tt> den <a class="link" href="pv:name">Element-Namen</a> des
      zu referenzierenden Frames darstellt.
    </xs:documentation></xs:annotation>
    <xs:restriction base="pv:partialOctaveString">
      <!-- pattern value="Frame\[X\]" with
             X=((([a-zA-Z_]|[a-zA-Z_][a-zA-Z0-9_]*[a-zA-Z_])\{[^\}]+\})+([a-zA-Z_][a-zA-Z0-9_]*)?|[a-zA-Z_][a-zA-Z0-9_]*)
      from physicalvariable.xsd name attribute -->
      <xs:pattern value="Frame\[((([a-zA-Z_]|[a-zA-Z_][a-zA-Z0-9_]*[a-zA-Z_])\{[^\}]+\})+([a-zA-Z_][a-zA-Z0-9_]*)?|[a-zA-Z_][a-zA-Z0-9_]*)\]"/>
    </xs:restriction>
  </xs:simpleType>

  <!-- A reference to a Frame at the parent -->
  <xs:simpleType name="ParentFrameReferenceType">
    <xs:annotation><xs:documentation xml:lang="de" xmlns="http://www.w3.org/1999/xhtml">
      Definiert eine Pfadangabe zu einem <tt><a class="link" href="mbsim:Frame">&lt;Frame&gt;</a></tt> des Vorgängers
      des aktuellen Kontext (Vorgänger in der Hierarchieebene). Gültige Werte sind <tt>../Frame[X]</tt>, wobei <tt>X</tt> den
      <a class="link" href="pv:name">Element-Namen</a> des Frames des Vorgangers darstellt.
      <p>Die Hierarchieebenen entsprechend prinzipiell den Ebenen von XML. Als neue Hierarchieebenen zählen jedoch NUR
      Elemente die mit einem Großbuchstaben beginnen.</p>
    </xs:documentation></xs:annotation>
    <xs:restriction base="pv:partialOctaveString">
      <!-- pattern value="\.\./Frame\[X\]" with
             X=((([a-zA-Z_]|[a-zA-Z_][a-zA-Z0-9_]*[a-zA-Z_])\{[^\}]+\})+([a-zA-Z_][a-zA-Z0-9_]*)?|[a-zA-Z_][a-zA-Z0-9_]*)
      from physicalvariable.xsd name attribute -->
      <xs:pattern value="\.\./Frame\[((([a-zA-Z_]|[a-zA-Z_][a-zA-Z0-9_]*[a-zA-Z_])\{[^\}]+\})+([a-zA-Z_][a-zA-Z0-9_]*)?|[a-zA-Z_][a-zA-Z0-9_]*)\]"/>
    </xs:restriction>
  </xs:simpleType>

  <!-- A reference from a Link|Object|ExtraDynamicSystem to a Frame somewhere in the hierarchy -->
  <xs:simpleType name="FrameReferenceType">
    <xs:annotation><xs:documentation xml:lang="de" xmlns="http://www.w3.org/1999/xhtml">
      Definiert eine Pfadangabe zu einem <tt><a class="link" href="mbsim:Frame">&lt;Frame&gt;</a></tt> an beliebiger
      Position im Modell. Gültige Werte sind z.B. <tt>../../Group[X]/Group[X]/Object[Y]/Frame[Z]</tt>, wobei <tt>X</tt>,
      <tt>Y</tt> und <tt>Z</tt> geweils einen <a class="link" href="pv:name">Element-Namen</a> darstellt. Der Pfadteil
      <tt>..</tt> kann dabei beliebig oft auftreten und wechselt eine Hierarchieebene nach oben. Der Pfadteil
      <tt>Group</tt> kann beliebig oft oder nicht auftreten und wechselt eine Hierarchieebene tiefer in die
      <tt>Group</tt> mit dem Element-Namen <tt>X</tt>. Als letzter Pfadteil kann der <tt>Frame Z</tt> des
      <tt>Object's Y</tt> ausgewählt werden oder der <tt>Frame Z</tt> der <tt>Group</tt> wenn die Angabe von
      <tt>Object</tt> weggelassen wird. Alternativ kann die Pfadangabe anstatt mit <tt>..</tt> mit <tt>/</tt> beginnen,
      in diesem Fall beginnt die Referenzierung beim obersten Element
      (<tt><a class="link" href="mbsim:DynamicSystemSolver">DynamicSystemSolver</a></tt>) des Modells.
      <p>Die Hierarchieebenen entsprechend prinzipiell den Ebenen von XML. Als neue Hierarchieebenen zählen jedoch NUR
      Elemente die mit einem Großbuchstaben beginnen.</p>
    </xs:documentation></xs:annotation>
    <xs:restriction base="pv:partialOctaveString">
      <!-- pattern value="(/|(\.\./)+)(Group\[X\]/)*(Frame\[X\]|Object\[X\]/Frame\[X\])" with
             X=((([a-zA-Z_]|[a-zA-Z_][a-zA-Z0-9_]*[a-zA-Z_])\{[^\}]+\})+([a-zA-Z_][a-zA-Z0-9_]*)?|[a-zA-Z_][a-zA-Z0-9_]*)
      from physicalvariable.xsd name attribute -->
      <xs:pattern value="(/|(\.\./)+)(Group\[((([a-zA-Z_]|[a-zA-Z_][a-zA-Z0-9_]*[a-zA-Z_])\{[^\}]+\})+([a-zA-Z_][a-zA-Z0-9_]*)?|[a-zA-Z_][a-zA-Z0-9_]*)\]/)*(Frame\[((([a-zA-Z_]|[a-zA-Z_][a-zA-Z0-9_]*[a-zA-Z_])\{[^\}]+\})+([a-zA-Z_][a-zA-Z0-9_]*)?|[a-zA-Z_][a-zA-Z0-9_]*)\]|Object\[((([a-zA-Z_]|[a-zA-Z_][a-zA-Z0-9_]*[a-zA-Z_])\{[^\}]+\})+([a-zA-Z_][a-zA-Z0-9_]*)?|[a-zA-Z_][a-zA-Z0-9_]*)\]/Frame\[((([a-zA-Z_]|[a-zA-Z_][a-zA-Z0-9_]*[a-zA-Z_])\{[^\}]+\})+([a-zA-Z_][a-zA-Z0-9_]*)?|[a-zA-Z_][a-zA-Z0-9_]*)\])"/>
    </xs:restriction>
  </xs:simpleType>

  <!-- A reference form a Link|Object|ExtraDynamicSystem to a Contour somewhere in the hierarchy -->
  <xs:simpleType name="ContourReferenceType">
    <xs:annotation><xs:documentation xml:lang="de" xmlns="http://www.w3.org/1999/xhtml">
      Definiert eine Pfadangabe zu einer <tt><a class="link" href="mbsim:Contour">&lt;Contour&gt;</a></tt> an beliebiger
      Position im Modell. Gültige Werte sind z.B. <tt>../../Group[X]/Group[X]/Object[Y]/Contour[Z]</tt>, wobei <tt>X</tt>,
      <tt>Y</tt> und <tt>Z</tt> geweils einen <a class="link" href="pv:name">Element-Namen</a> darstellt. Der Pfadteil
      <tt>..</tt> kann dabei beliebig oft auftreten und wechselt eine Hierarchieebene nach oben. Der Pfadteil
      <tt>Group</tt> kann beliebig oft oder nicht auftreten und wechselt eine Hierarchieebene tiefer in die
      <tt>Group</tt> mit dem Element-Namen <tt>X</tt>. Als letzter Pfadteil kann die <tt>Contour Z</tt> des
      <tt>Object's Y</tt> ausgewählt werden oder die <tt>Contour Z</tt> der <tt>Group</tt> wenn die Angabe von
      <tt>Object</tt> weggelassen wird. Alternativ kann die Pfadangabe anstatt mit <tt>..</tt> mit <tt>/</tt> beginnen,
      in diesem Fall beginnt die Referenzierung beim obersten Element
      (<tt><a class="link" href="mbsim:DynamicSystemSolver">DynamicSystemSolver</a></tt>) des Modells.
      <p>Die Hierarchieebenen entsprechend prinzipiell den Ebenen von XML. Als neue Hierarchieebenen zählen jedoch NUR
      Elemente die mit einem Großbuchstaben beginnen.</p>
    </xs:documentation></xs:annotation>
    <xs:restriction base="pv:partialOctaveString">
      <!-- pattern value="(/|(\.\./)+)(Group\[X\]/)*(Contour\[X\]|Object\[X\]/Contour\[X\])" with
             X=((([a-zA-Z_]|[a-zA-Z_][a-zA-Z0-9_]*[a-zA-Z_])\{[^\}]+\})+([a-zA-Z_][a-zA-Z0-9_]*)?|[a-zA-Z_][a-zA-Z0-9_]*)
      from physicalvariable.xsd name attribute -->
      <xs:pattern value="(/|(\.\./)+)(Group\[((([a-zA-Z_]|[a-zA-Z_][a-zA-Z0-9_]*[a-zA-Z_])\{[^\}]+\})+([a-zA-Z_][a-zA-Z0-9_]*)?|[a-zA-Z_][a-zA-Z0-9_]*)\]/)*(Contour\[((([a-zA-Z_]|[a-zA-Z_][a-zA-Z0-9_]*[a-zA-Z_])\{[^\}]+\})+([a-zA-Z_][a-zA-Z0-9_]*)?|[a-zA-Z_][a-zA-Z0-9_]*)\]|Object\[((([a-zA-Z_]|[a-zA-Z_][a-zA-Z0-9_]*[a-zA-Z_])\{[^\}]+\})+([a-zA-Z_][a-zA-Z0-9_]*)?|[a-zA-Z_][a-zA-Z0-9_]*)\]/Contour\[((([a-zA-Z_]|[a-zA-Z_][a-zA-Z0-9_]*[a-zA-Z_])\{[^\}]+\})+([a-zA-Z_][a-zA-Z0-9_]*)?|[a-zA-Z_][a-zA-Z0-9_]*)\])"/>
    </xs:restriction>
  </xs:simpleType>

  <!-- A reference form a Link to a Object somewhere in the hierarchy -->
  <xs:simpleType name="ObjectReferenceType">
    <xs:annotation><xs:documentation xml:lang="de" xmlns="http://www.w3.org/1999/xhtml">
      Definiert eine Pfadangabe zu einem <tt><a class="link" href="mbsim:Object">&lt;Object&gt;</a></tt> an beliebiger
      Position im Modell. Gültige Werte sind z.B. <tt>../../Group[X]/Group[X]/Object[Y]</tt>, wobei <tt>X</tt> und
      <tt>Y</tt> geweils einen <a class="link" href="pv:name">Element-Namen</a> darstellt. Der Pfadteil <tt>..</tt>
      kann dabei beliebig oft auftreten und wechselt eine Hierarchieebene nach oben. Der Pfadteil <tt>Group</tt>
      kann beliebig oft oder nicht auftreten und wechselt eine Hierarchieebene tiefer in die <tt>Group</tt> mit dem
      Element-Namen <tt>X</tt>. Als letzter Pfadteil wird das <tt>Object Y</tt> ausgewählt. Alternativ kann die
      Pfadangabe anstatt mit <tt>..</tt> mit <tt>/</tt> beginnen, in diesem Fall beginnt die Referenzierung beim
      obersten Element (<tt><a class="link" href="mbsim:DynamicSystemSolver">DynamicSystemSolver</a></tt>) des Modells.
      <p>Die Hierarchieebenen entsprechend prinzipiell den Ebenen von XML. Als neue Hierarchieebenen zählen jedoch NUR
      Elemente die mit einem Großbuchstaben beginnen.</p>
    </xs:documentation></xs:annotation>
    <xs:restriction base="pv:partialOctaveString">
      <!-- pattern value="(/|(\.\./)+)(Group\[X\]/)*Object\[X\]" with
             X=((([a-zA-Z_]|[a-zA-Z_][a-zA-Z0-9_]*[a-zA-Z_])\{[^\}]+\})+([a-zA-Z_][a-zA-Z0-9_]*)?|[a-zA-Z_][a-zA-Z0-9_]*)
      from physicalvariable.xsd name attribute -->
      <xs:pattern value="(/|(\.\./)+)(Group\[((([a-zA-Z_]|[a-zA-Z_][a-zA-Z0-9_]*[a-zA-Z_])\{[^\}]+\})+([a-zA-Z_][a-zA-Z0-9_]*)?|[a-zA-Z_][a-zA-Z0-9_]*)\]/)*Object\[((([a-zA-Z_]|[a-zA-Z_][a-zA-Z0-9_]*[a-zA-Z_])\{[^\}]+\})+([a-zA-Z_][a-zA-Z0-9_]*)?|[a-zA-Z_][a-zA-Z0-9_]*)\]"/>
    </xs:restriction>
  </xs:simpleType>

  <!-- A reference form a Link to a Contact somewhere in the hierarchy -->
  <xs:simpleType name="ContactReferenceType">
    <xs:annotation><xs:documentation xml:lang="de" xmlns="http://www.w3.org/1999/xhtml">
      Definiert eine Pfadangabe zu einem <tt><a class="link" href="mbsim:Contact">&lt;Contact&gt;</a></tt> an beliebiger
      Position im Modell. Gültige Werte sind z.B. <tt>../../Group[X]/Group[X]/Contact[Y]</tt>, wobei <tt>X</tt> und
      <tt>Y</tt> geweils einen <a class="link" href="pv:name">Element-Namen</a> darstellt. Der Pfadteil <tt>..</tt>
      kann dabei beliebig oft auftreten und wechselt eine Hierarchieebene nach oben. Der Pfadteil <tt>Group</tt> kann
      beliebig oft oder nicht auftreten und wechselt eine Hierarchieebene tiefer in die <tt>Group</tt> mit dem
      Element-Namen <tt>X</tt>. Als letzter Pfadteil wird der <tt>Contact Y</tt> ausgewählt. Alternativ kann die
      Pfadangabe anstatt mit <tt>..</tt> mit <tt>/</tt> beginnen, in diesem Fall beginnt die Referenzierung beim
      obersten Element (<tt><a class="link" href="mbsim:DynamicSystemSolver">DynamicSystemSolver</a></tt>) des Modells.
      <p>Die Hierarchieebenen entsprechend prinzipiell den Ebenen von XML. Als neue Hierarchieebenen zählen jedoch NUR
      Elemente die mit einem Großbuchstaben beginnen.</p>
    </xs:documentation></xs:annotation>
    <xs:restriction base="pv:partialOctaveString">
      <!-- pattern value="(/|(\.\./)+)(Group\[X\]/)*Contact\[X\]" with
             X=((([a-zA-Z_]|[a-zA-Z_][a-zA-Z0-9_]*[a-zA-Z_])\{[^\}]+\})+([a-zA-Z_][a-zA-Z0-9_]*)?|[a-zA-Z_][a-zA-Z0-9_]*)
      from physicalvariable.xsd name attribute -->
      <xs:pattern value="(/|(\.\./)+)(Group\[((([a-zA-Z_]|[a-zA-Z_][a-zA-Z0-9_]*[a-zA-Z_])\{[^\}]+\})+([a-zA-Z_][a-zA-Z0-9_]*)?|[a-zA-Z_][a-zA-Z0-9_]*)\]/)*Contact\[((([a-zA-Z_]|[a-zA-Z_][a-zA-Z0-9_]*[a-zA-Z_])\{[^\}]+\})+([a-zA-Z_][a-zA-Z0-9_]*)?|[a-zA-Z_][a-zA-Z0-9_]*)\]"/>
    </xs:restriction>
  </xs:simpleType>



  <xs:element name="Element" abstract="true" type="ElementType">
    <xs:annotation><xs:documentation xml:lang="de" xmlns="http://www.w3.org/1999/xhtml">
      <p>Abstraktes (Top-Level) Basis Element von MBSim.</p>
      <p>Das Attribut <tt>name</tt> gibt den Namen des Elements an. Dieser Name wird für die Referenzierung des
         Elements benötig. Die Plotausgaben verwenden ebenfalls diese Namen.</p>
    </xs:documentation></xs:annotation>
  </xs:element>
  <xs:complexType name="ElementType">
    <xs:sequence> <!-- a workaround for xmllint -->
      <xs:choice minOccurs="0" maxOccurs="unbounded">
        <xs:element name="plotFeature">  
          <xs:annotation><xs:documentation xml:lang="de" xmlns="http://www.w3.org/1999/xhtml">
            Definiert die Plotfeatures für dieses Element.
          </xs:documentation></xs:annotation>
          <xs:complexType>
            <xs:attribute name="feature" type="PlotFeatureType" use="required"/>
          </xs:complexType> 
        </xs:element>  
        <xs:element name="plotFeatureForChildren">
          <xs:annotation><xs:documentation xml:lang="de" xmlns="http://www.w3.org/1999/xhtml">
            Definiert die Plotfeatures für alle Kindelement.
          </xs:documentation></xs:annotation>
          <xs:complexType>
            <xs:attribute name="feature" type="PlotFeatureType" use="required"/>
          </xs:complexType> 
        </xs:element>  
        <xs:element name="plotFeatureRecursive">  
          <xs:annotation><xs:documentation xml:lang="de" xmlns="http://www.w3.org/1999/xhtml">
            Definiert die Plotfeatures für diese Element und alle Kindelement.
          </xs:documentation></xs:annotation>
          <xs:complexType>
            <xs:attribute name="feature" type="PlotFeatureType" use="required"/>
          </xs:complexType> 
        </xs:element>  
      </xs:choice> 
    </xs:sequence> <!-- a workaround for xmllint -->
    <xs:attribute name="name" type="pv:name" use="required"/>
  </xs:complexType> 

  <xs:element name="EmptyGroup" abstract="true" substitutionGroup="Element" type="EmptyGroupType"/>
  <xs:complexType name="EmptyGroupType">
    <xs:complexContent>
      <xs:extension base="ElementType"/>
    </xs:complexContent>
  </xs:complexType>   

  <!-- For usage in Group an RigidBody -->
  <xs:element name="frame" type="frameType">
    <xs:annotation>
      <xs:documentation xml:lang="de" xmlns="http://www.w3.org/1999/xhtml">
        Lokale Gruppe eines Koordinatensystems.
      </xs:documentation>
    </xs:annotation>
  </xs:element>
  <xs:complexType name="frameType"> <!-- use global type for parsing by the documentation generator -->
    <xs:sequence>
      <xs:element ref="Frame"/>
      <xs:element name="frameOfReference" minOccurs="0">
        <xs:annotation>
          <xs:documentation xml:lang="de" xmlns="http://www.w3.org/1999/xhtml">
            Koordinatensystem, in dem die Positionierung des KOS angegeben wird. Standardmässig "I"-System der Gruppe bzw. "C"-System des RigidBody.
          </xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:attribute name="ref" type="CurrentFrameReferenceType" use="required"/>
        </xs:complexType>
      </xs:element>
      <xs:element name="position" type="pv:lengthVector">
        <xs:annotation>
          <xs:documentation xml:lang="de" xmlns="http://www.w3.org/1999/xhtml">
            Relative Lage des Koordinatensystems. Vektor von <tt>frameOfReference</tt> zum Ursprung des neuen KOS dargestellt
            im KOS <tt>frameOfReference</tt>.
          </xs:documentation>
        </xs:annotation>
      </xs:element>
      <xs:element name="orientation" type="pv:nounitMatrix">
        <xs:annotation>
          <xs:documentation xml:lang="de" xmlns="http://www.w3.org/1999/xhtml">
            Relative Orientierung des Koordinatensystems. Transformationsmatrix vom neuen KOS ins KOS <tt>frameOfReference</tt>.
          </xs:documentation>
        </xs:annotation>
      </xs:element>
    </xs:sequence>
    <xs:attribute ref="xml:base"/>
  </xs:complexType>

  <!-- For usage in Group an RigidBody -->
  <xs:element name="contour" type="contourType">
    <xs:annotation>
      <xs:documentation xml:lang="de" xmlns="http://www.w3.org/1999/xhtml">
        Lokale Gruppe einer Kontaktkontur.
      </xs:documentation>
    </xs:annotation>
  </xs:element>
  <xs:complexType name="contourType"> <!-- use global type for parsing by the documentation generator -->
    <xs:sequence>
      <xs:element ref="Contour"/>
      <xs:element name="frameOfReference" minOccurs="0">
        <xs:annotation>
          <xs:documentation xml:lang="de" xmlns="http://www.w3.org/1999/xhtml">
            Koordinatensystem, in dem die relative Positionierung der Kontour angegeben wird. Standardmässig "I"-System der Gruppe bzw. "C"-System des RigidBody.
          </xs:documentation>
        </xs:annotation>
        <xs:complexType>
          <xs:attribute name="ref" type="CurrentFrameReferenceType" use="required"/>
        </xs:complexType>
      </xs:element>
      <xs:element name="position" type="pv:lengthVector">
        <xs:annotation>
          <xs:documentation xml:lang="de" xmlns="http://www.w3.org/1999/xhtml">
            Relative Lage der Kontour. Vektor von <tt>frameOfReference</tt> zum Ursprung des Contoureigenen KOS dargestellt
            im KOS <tt>frameOfReference</tt>.
          </xs:documentation>
        </xs:annotation>
      </xs:element>
      <xs:element name="orientation" type="pv:nounitMatrix">
        <xs:annotation>
          <xs:documentation xml:lang="de" xmlns="http://www.w3.org/1999/xhtml">
            Relative Orientierung der Contour. Transformationsmatrix vom Contoureigenen KOS ins KOS <tt>frameOfReference</tt>.
          </xs:documentation>
        </xs:annotation>
      </xs:element>
    </xs:sequence>
    <xs:attribute ref="xml:base"/>
  </xs:complexType>

  <xs:element name="Group" substitutionGroup="EmptyGroup" type="GroupType">
    <xs:annotation><xs:documentation xml:lang="de" xmlns="http://www.w3.org/1999/xhtml">
        Definiert eine neue Hierarchieebene in Form einer Gruppe. Eine Gruppe stellt dabei einen
        Kontainer für andere <tt>Group</tt>'s, <tt>Object</tt>'s (Körper) und <tt>Link</tt>'s
        (Verbindungselemente) bereit. Mithilfe von Gruppen können somit hierarchische Modelle erzeugt werden.
        <p>Jede Gruppe definiert automatisch ein statisches KOS mit den Namen "I".</p>
    </xs:documentation></xs:annotation>
  </xs:element>
  <xs:complexType name="GroupType">
    <xs:complexContent>
      <xs:extension base="EmptyGroupType">
        <xs:sequence>
          <xs:element name="frameOfReference" minOccurs="0">
            <xs:annotation>
              <xs:documentation xml:lang="de" xmlns="http://www.w3.org/1999/xhtml">
                Koordinatensystem, in dem die Positionierung der Gruppe angegeben wird. Standardmäßig wird das "I"-System des übergeordneten Systems verwendet.
              </xs:documentation>
            </xs:annotation>
            <xs:complexType>
              <xs:attribute name="ref" type="ParentFrameReferenceType" use="required"/>
            </xs:complexType>
          </xs:element>
          <xs:element name="position" type="pv:lengthVector" minOccurs="0">
            <xs:annotation>
              <xs:documentation xml:lang="de" xmlns="http://www.w3.org/1999/xhtml">
                Relative Lage der Gruppe. Vektor vom <tt>frameOfReference</tt> zum KOS "I" dieser Gruppe.
              </xs:documentation>
            </xs:annotation>
          </xs:element>
          <xs:element name="orientation" type="pv:nounitMatrix" minOccurs="0">
            <xs:annotation>
              <xs:documentation xml:lang="de" xmlns="http://www.w3.org/1999/xhtml">
                Relative Orientierung der Gruppe. Transformationsmatrix vom KOS "I" dieser Gruppe in das KOS <tt>frameOfReference</tt>.
              </xs:documentation>
            </xs:annotation>
          </xs:element>           
          <xs:element name="frames">
            <xs:annotation>
              <xs:documentation xml:lang="de" xmlns="http://www.w3.org/1999/xhtml">
                Kontainer für ortsfeste (statische) Koordinatensysteme dieser Gruppe.
              </xs:documentation>
            </xs:annotation>
            <xs:complexType>
              <xs:choice minOccurs="0" maxOccurs="unbounded">
                <xs:element ref="frame">
                  <xs:annotation>
                    <xs:documentation xml:lang="de" xmlns="http://www.w3.org/1999/xhtml">
                      Lokale Definition.
                    </xs:documentation>
                  </xs:annotation>
                </xs:element>
                <xs:element ref="pv:embed">
                  <xs:annotation>
                    <xs:documentation xml:lang="de" xmlns="http://www.w3.org/1999/xhtml">
                      Definition in externer Datei.
                    </xs:documentation>
                  </xs:annotation>
                </xs:element>
              </xs:choice>
            </xs:complexType>
          </xs:element>
          <xs:element name="contours">
            <xs:annotation>
              <xs:documentation xml:lang="de" xmlns="http://www.w3.org/1999/xhtml">
                Kontainer für ortsfeste (statische) Kontaktkontouren dieser Gruppe.
              </xs:documentation>
            </xs:annotation>
            <xs:complexType>
              <xs:choice minOccurs="0" maxOccurs="unbounded">
                <xs:element ref="contour">
                  <xs:annotation>
                    <xs:documentation xml:lang="de" xmlns="http://www.w3.org/1999/xhtml">
                      Lokale Definition.
                    </xs:documentation>
                  </xs:annotation>
                </xs:element>
                <xs:element ref="pv:embed">
                  <xs:annotation>
                    <xs:documentation xml:lang="de" xmlns="http://www.w3.org/1999/xhtml">
                      Definition in externer Datei.
                    </xs:documentation>
                  </xs:annotation>
                </xs:element>
              </xs:choice>
            </xs:complexType>
          </xs:element>
          <xs:element name="groups">
            <xs:annotation>
              <xs:documentation xml:lang="de" xmlns="http://www.w3.org/1999/xhtml">
                Kontainer für Untergruppen dieser Gruppe
              </xs:documentation>
            </xs:annotation>
            <xs:complexType>
              <xs:choice minOccurs="0" maxOccurs="unbounded">
                <xs:element ref="EmptyGroup">
                  <xs:annotation>
                    <xs:documentation xml:lang="de" xmlns="http://www.w3.org/1999/xhtml">
                      Lokale Definition.
                    </xs:documentation>
                  </xs:annotation>
                </xs:element>
                <xs:element ref="pv:embed">
                  <xs:annotation>
                    <xs:documentation xml:lang="de" xmlns="http://www.w3.org/1999/xhtml">
                      Definition in externer Datei.
                    </xs:documentation>
                  </xs:annotation>
                </xs:element>
              </xs:choice>
            </xs:complexType>
          </xs:element>
          <xs:element name="objects">
            <xs:annotation>
              <xs:documentation xml:lang="de" xmlns="http://www.w3.org/1999/xhtml">
                Kontainer für <tt>Object</tt>'s (Körper, hydraulische Leitungen, ...)
              </xs:documentation>
            </xs:annotation>
            <xs:complexType>
              <xs:choice minOccurs="0" maxOccurs="unbounded">
                <xs:element ref="Object">
                  <xs:annotation>
                    <xs:documentation xml:lang="de" xmlns="http://www.w3.org/1999/xhtml">
                      Lokale Definition.
                    </xs:documentation>
                  </xs:annotation>
                </xs:element>
                <xs:element ref="pv:embed">
                  <xs:annotation>
                    <xs:documentation xml:lang="de" xmlns="http://www.w3.org/1999/xhtml">
                      Definition in externer Datei.
                    </xs:documentation>
                  </xs:annotation>
                </xs:element>
              </xs:choice>
            </xs:complexType>
          </xs:element>
          <!--
          <xs:element name="extradynamics">
            <xs:annotation>
              <xs:documentation xml:lang="de" xmlns="http://www.w3.org/1999/xhtml">
                Kontainer für zusätzliche dynamische Systeme, welche als gewöhnliches Differentialgleichungssystem 1. Ordnung abgebildet werden können.
              </xs:documentation>
            </xs:annotation>
            <xs:complexType>
              <xs:choice minOccurs="0" maxOccurs="unbounded">
                <xs:element ref="ExtraDynamicSystem">
                  <xs:annotation>
                    <xs:documentation xml:lang="de" xmlns="http://www.w3.org/1999/xhtml">
                      Lokale Definition.
                    </xs:documentation>
                  </xs:annotation>
                </xs:element>  
                <xs:element ref="pv:embed">
                  <xs:annotation>
                    <xs:documentation xml:lang="de" xmlns="http://www.w3.org/1999/xhtml">
                      Definition in externer Datei.
                    </xs:documentation>
                  </xs:annotation>
                </xs:element>  
              </xs:choice>
            </xs:complexType>
          </xs:element>
          -->
          <xs:element name="links">
            <xs:annotation>
              <xs:documentation xml:lang="de" xmlns="http://www.w3.org/1999/xhtml">
                Kontainer für <tt>Link</tt>'s (Verbindungen, Kontakte, hydraulische Knoten, ...)
              </xs:documentation>
            </xs:annotation>
            <xs:complexType>
              <xs:choice minOccurs="0" maxOccurs="unbounded">
                <xs:element ref="Link">
                  <xs:annotation>
                    <xs:documentation xml:lang="de" xmlns="http://www.w3.org/1999/xhtml">
                      Lokale Definition.
                    </xs:documentation>
                  </xs:annotation>
                </xs:element>
                <xs:element ref="pv:embed">
                  <xs:annotation>
                    <xs:documentation xml:lang="de" xmlns="http://www.w3.org/1999/xhtml">
                      Definition in externer Datei.
                    </xs:documentation>
                  </xs:annotation>
                </xs:element>
              </xs:choice>
            </xs:complexType>
          </xs:element>
        </xs:sequence> 
        <xs:attribute ref="xml:base"/>
      </xs:extension>
    </xs:complexContent>
  </xs:complexType>   

  <xs:element name="Environment" abstract="true" type="EnvironmentType">
    <xs:annotation><xs:documentation xml:lang="de" xmlns="http://www.w3.org/1999/xhtml">
      Abstrakte Oberklasse für die Definition von Umgebungsgröße verschiedener physikalischer Domains.
      Z.b. die Erdbeschleunding in der Mechanik.
    </xs:documentation></xs:annotation>
  </xs:element>
  <xs:complexType name="EnvironmentType"/>

  <xs:element name="MBSimEnvironment" substitutionGroup="Environment" type="MBSimEnvironmentType">
    <xs:annotation><xs:documentation xml:lang="de" xmlns="http://www.w3.org/1999/xhtml">
      Definiert mechanische Umgebungsgröße.
    </xs:documentation></xs:annotation>
  </xs:element>
  <xs:complexType name="MBSimEnvironmentType">
    <xs:complexContent>
      <xs:extension base="EnvironmentType">
        <xs:sequence>
          <xs:element name="accelerationOfGravity" type="pv:accelerationVector">
            <xs:annotation>
              <xs:documentation xml:lang="de" xmlns="http://www.w3.org/1999/xhtml">
                Vektor der Erdbeschleunigung angegeben im Welt-KOS. Das Welt-KOS ist identisch mit dem
                KOS "I" von <tt><a class="link" href="mbsim:DynamicSystemSolver">&lt;DynamicSystemSolver&gt;</a></tt>.
              </xs:documentation>
            </xs:annotation>
          </xs:element>
        </xs:sequence> 
      </xs:extension>
    </xs:complexContent>
  </xs:complexType>   

  <xs:element name="DynamicSystemSolver" substitutionGroup="Group" type="DynamicSystemSolverType">
    <xs:annotation><xs:documentation xml:lang="de" xmlns="http://www.w3.org/1999/xhtml">
      DynamicSystemSolver ist stets das oberste Element eines Modells und stellt somit ein Integrierbares
      Gesammtsystem dar. Da DynamicSystemSolver von Group abgeleitet ist, stelle diese Element gleichzeitig
      eine Gruppe dar welche mit anderen Gruppen, Objekten und Link's gefüllt werden kann. Zuletzt werden
      innerhalb von DynamicSystemSolver die Umgebungsgrößen der einzelenen verwendeten Domains definiert.
      <p>Das das oberste XML Element auch stets den <i>Namespace</i> der folgenden Elemente definieren muss,
      sind die ersten Zeilen eines Modells meist die folgenden:</p>
      <tt>&lt;?xml version="1.0" encoding="UTF-8"?&gt;</tt><br/>
      <tt>&lt;DynamicSystemSolver name="MBS" xmlns="http://mbsim.berlios.de/MBSim"</tt><br/>
      <tt>  xmlns:ombv="http://openmbv.berlios.de/OpenMBV"</tt><br/>
      <tt>  xmlns:pv="http://openmbv.berlios.de/MBXMLUtils/physicalvariable"&gt;</tt><br/>
      <tt>  ...</tt><br/>
    </xs:documentation></xs:annotation>
  </xs:element>
  <xs:complexType name="DynamicSystemSolverType">
    <xs:complexContent>
      <xs:extension base="GroupType">
        <xs:sequence>
          <xs:element name="environments">
            <xs:annotation>
              <xs:documentation xml:lang="de" xmlns="http://www.w3.org/1999/xhtml">
                Kontainer für Umgebungsvariablen des physikalen Systems
              </xs:documentation>
            </xs:annotation>
            <xs:complexType>
              <xs:sequence>
                <xs:element ref="Environment" minOccurs="0" maxOccurs="unbounded"/>
              </xs:sequence> 
            </xs:complexType>
          </xs:element>
          <xs:element name="solverParameters" minOccurs="0">
            <xs:complexType>
              <xs:sequence>
                <xs:element name="constraintSolver">
                  <xs:complexType>
                    <xs:choice>
                      <xs:element name="FixedPointTotal"/>
                      <xs:element name="FixedPointSingle"/>
                      <xs:element name="GaussSeidel"/>
                      <xs:element name="LinearEquations"/>
                      <xs:element name="RootFinding"/>
                    </xs:choice>
                  </xs:complexType>
                </xs:element>
                <xs:element name="impactSolver">
                  <xs:complexType>
                    <xs:choice>
                      <xs:element name="FixedPointTotal"/>
                      <xs:element name="FixedPointSingle"/>
                      <xs:element name="GaussSeidel"/>
                      <xs:element name="LinearEquations"/>
                      <xs:element name="RootFinding"/>
                    </xs:choice>
                  </xs:complexType>
                </xs:element>
                <xs:element name="numberOfMaximalIterations" type="xs:nonNegativeInteger" minOccurs="0"/>
              </xs:sequence>
            </xs:complexType>
          </xs:element>
        </xs:sequence>
      </xs:extension>
    </xs:complexContent>
  </xs:complexType>   

  <xs:element name="Object" abstract="true" substitutionGroup="Element" type="ObjectType">
    <xs:annotation>
      <xs:documentation xml:lang="de" xmlns="http://www.w3.org/1999/xhtml">
        Abstrakte Klasse eines Objekts.
      </xs:documentation>
    </xs:annotation>
  </xs:element>
  <xs:complexType name="ObjectType">
    <xs:complexContent>
      <xs:extension base="ElementType">
        <xs:sequence>
          <xs:element name="initialGeneralizedPosition" minOccurs="0" type="pv:lengthVector">
            <xs:annotation>
              <xs:documentation xml:lang="de" xmlns="http://www.w3.org/1999/xhtml">
                Inertiale Lage in den generalisierten Freiheitsgraden.
              </xs:documentation>
            </xs:annotation>
          </xs:element>
          <xs:element name="initialGeneralizedVelocity" minOccurs="0" type="pv:velocityVector">
            <xs:annotation>
              <xs:documentation xml:lang="de" xmlns="http://www.w3.org/1999/xhtml">
                Inertiale Geschwindigkeiten in den generalisierten Freiheitsgraden.
              </xs:documentation>
            </xs:annotation>
          </xs:element>
          <xs:element name="frameOfReference">
            <xs:annotation>
              <xs:documentation xml:lang="de" xmlns="http://www.w3.org/1999/xhtml">
                Definiert das KOS bezüglich dessen die Bewegung (Kinematik; generalisierte Lagen) dieses Objekts angegebn wird.
                Ist dieses KOS ein KOS einer Gruppe (statisches KOS) so handelt es sich um eine Objekt
                mit absoluter Parametrierung. Ist das referenz KOS eine KOS eines anderen Objekts (bewegliches KOS),
                so handelt es sich um ein Objekt mit relativer Parametrierung (Baumstruktur).
              </xs:documentation>
            </xs:annotation>
            <xs:complexType>
              <xs:attribute name="ref" type="FrameReferenceType" use="required"/>
            </xs:complexType>
          </xs:element>
        </xs:sequence> 
        <xs:attribute ref="xml:base"/>
      </xs:extension>
    </xs:complexContent>
  </xs:complexType>   

  <xs:element name="Body" abstract="true" substitutionGroup="Object" type="BodyType">
    <xs:annotation>
      <!--<xs:documentation xml:lang="de" xmlns="http://www.w3.org/1999/xhtml">
        The following <b>part</b> is <i>only</i> a test for <tt>equation</tt> and image output for the XML documentation FROM XSM SCHEMA.
        Also links to other parts of the Documentation is possible <a class="link" href="mbsim:Element">like this</a>.
        <p>A paragraph with a line break<br/>here</p>
        <p>Other paragraph with a definition list:</p>
        <dl>
          <dt>Def1</dt><dd>The description of Def1</dd>
          <dt>Def2</dt><dd>The description of Def2</dd>
        </dl>
        A unordered list
        <ul>
          <li>Item 1</li>
          <li>Item 2</li>
        </ul>
        and a ordered list
        <ol>
          <li>Item 1</li>
          <li>Item 2</li>
        </ol>
        A not inline equation
        <object class="eqn">
          <![CDATA[\int_a^b\sin(x)dx +
          \left[\begin{array}{cc}
          1 & 2 \\
          3 & 4
          \end{array}\right]]]>
        </object>
        And a inline equation <object class="inlineeqn">x_a+\cos(x)</object>. And a image.
        <object class="figure" standby="4cm" data="mbsim" title="The image caption"/>
        End of the test. 
      </xs:documentation>-->
      <xs:documentation xml:lang="de" xmlns="http://www.w3.org/1999/xhtml">
        Abstrakte Oberklasse für beliebigen mechanische Körper (starr, flexible, ...).
      </xs:documentation>
    </xs:annotation>
  </xs:element>
  <xs:complexType name="BodyType">
    <xs:complexContent>
      <xs:extension base="ObjectType"/>
    </xs:complexContent>
  </xs:complexType>

  <xs:element name="RigidBody" substitutionGroup="Body" type="RigidBodyType">
    <xs:annotation>
      <xs:documentation xml:lang="de" xmlns="http://www.w3.org/1999/xhtml">
        Definiert einen Starrköper. Ob der Körper mittels relativ oder absolut Koordinaten beschreiben wird
        entscheidet allein das <tt>frameOfReference</tt> des Körpers (siehe <a class="link" href="mbsim:Object">&lt;Object&gt;</a>.
        <p>Jeder Starrkörper bekommt automatisch ein Koordinatensystem "C" in seinem Schwerpunkt zugewiesen.</p>
        <object class="figure" standby="4cm" data="rigid_body" title="Kinematische Beschreibung eines Starrkörpers"></object>
      </xs:documentation>
    </xs:annotation>
  </xs:element>
  <xs:complexType name="RigidBodyType">
    <xs:complexContent>
      <xs:extension base="BodyType">
        <xs:sequence>
          <xs:element name="frameForKinematics">
            <xs:annotation>
              <xs:documentation xml:lang="de" xmlns="http://www.w3.org/1999/xhtml">
                Definiert das KOS dessen relative Bewegung bezüglich des <tt>frameOfReference</tt>
                (siehe <tt><a class="link" href="mbsim:Object">Object</a></tt>) sich unmittelbar aus den
                generalisierten Koordinaten dieses Körpers ergibt.
                <p>Es kann sich somit entsprechend der angegebenen translatorischen und rotatorischen Freiheitsgrade
                relativ gegenüber dem <tt>frameOfReference</tt> bewegen und ist zu Beginn der Simulation um die
                angegebenen generalisierten Startwerte gegenüber dem <tt>frameOfReference</tt> ausgelenkt.</p>
              </xs:documentation>
            </xs:annotation>
            <xs:complexType>
              <xs:attribute name="ref" type="CurrentFrameReferenceType" use="required"/>
            </xs:complexType> 
          </xs:element>
          <xs:element name="mass" type="pv:massScalar">
            <xs:annotation>
              <xs:documentation xml:lang="de" xmlns="http://www.w3.org/1999/xhtml">
                Masse des Körpers
              </xs:documentation>
            </xs:annotation>
          </xs:element>
          <xs:element name="inertiaTensor" type="pv:inertiaMatrix">
            <xs:annotation>
              <xs:documentation xml:lang="de" xmlns="http://www.w3.org/1999/xhtml">
                Trägheitstensor des Körpers bezüglich des Schwerkpunktkoordinatensystems "C".
              </xs:documentation>
            </xs:annotation>
          </xs:element>
          <xs:element name="translation">
            <xs:annotation><xs:documentation xml:lang="de" xmlns="http://www.w3.org/1999/xhtml">
              Gibt die Vorschrift zur Berechnung des Translationsvektors
              <object class="inlineeqn">\boldsymbol{r}_q=f(\boldsymbol{q},t)</object> in Abhängigkeit der 
              generalisierten Lagen und der Zeit an.
              Der Translationsvektor <object class="inlineeqn">\boldsymbol{r}_q</object> ist
              im KOS <tt>frameOfReference</tt> dargestellt und stellt die
              Relativverschiebung zwischen dem KOS <tt>frameOfReference</tt> und dem KOS <tt>frameForKinamtics</tt> dar.
              <p>Wird <tt>Translation</tt> nicht angegeben, so besitzt der Körper keine translatorischen Freiheitsgrade.</p>
            </xs:documentation></xs:annotation>
            <xs:complexType>
              <xs:sequence>
                <xs:element ref="Translation" minOccurs="0"/>
              </xs:sequence>
            </xs:complexType>
          </xs:element>
          <xs:element name="rotation">
            <xs:annotation><xs:documentation xml:lang="de" xmlns="http://www.w3.org/1999/xhtml">
              Gibt die Vorschrift zur Berechnung der Transformationsmatrix
              <object class="inlineeqn">\boldsymbol{A}_q=f(\boldsymbol{q},t)</object> in Abhängigkeit der 
              generalisierten Lagen und der Zeit an.
              Die Transformationsmatrix <object class="inlineeqn">\boldsymbol{A}_q</object> stellt dabei die
              Transformation vom KOS <tt>frameForKinamtics</tt> in das KOS <tt>frameOfReference</tt> dar.
              <p>Wird <tt>Rotation</tt> nicht angegeben, so besitzt der Körper keine rotatorischen Freiheitsgrade.</p>
            </xs:documentation></xs:annotation>
            <xs:complexType>
              <xs:sequence>
                <xs:element ref="Rotation" minOccurs="0"/>
              </xs:sequence>
            </xs:complexType>
          </xs:element>
          <!-- BEGIN The following elements are rarly used. That is why they are optional (on top level) -->
          <xs:element name="jacobianOfTranslation" minOccurs="0">
            <xs:annotation><xs:documentation xml:lang="de" xmlns="http://www.w3.org/1999/xhtml">
              Gibt die Vorschrift zur Berechnung der Jacobimatrix der Translation
              <object class="inlineeqn">\boldsymbol{J}_T=\frac{\partial \boldsymbol{r}_q}{\partial q}(\boldsymbol{q},t)</object>
              in Abhängigkeit der generalisierten Lagen und der Zeit an.
              <p>Wenn als Translation <a class="link" href="mbsim:LinearTranslation">LinearTranslation</a> angegeben wurde,
              so kann auf die Angabe dieses Elements verzichtet werden, da es automatische bestimmt wird.</p>
            </xs:documentation></xs:annotation>
            <xs:complexType>
              <xs:sequence>
                <xs:element ref="Jacobian"/>
              </xs:sequence>
            </xs:complexType>
          </xs:element>
          <xs:element name="jacobianOfRotation" minOccurs="0">
            <xs:annotation><xs:documentation xml:lang="de" xmlns="http://www.w3.org/1999/xhtml">
              Gibt die Vorschrift zur Berechnung der Jacobimatrix der Rotation
              <object class="inlineeqn">\boldsymbol{J}_R=\frac{\partial \omega}{\partial \dot{\boldsymbol{q}}}(\boldsymbol{q},t)</object> in Abhängigkeit der 
              generalisierten Lagen und der Zeit an.
              <p>Wenn als Rotation <a class="link" href="mbsim:RotationAboutFixedAxis">RotationAboutFixedAxis</a> oder
              <a class="link" href="mbsim:CardanAngles">CardanAngles</a> angegeben wurde,
              so kann auf die Angabe dieses Elements verzichtet werden, da es automatische bestimmt wird.</p>
            </xs:documentation></xs:annotation>
            <xs:complexType>
              <xs:sequence>
                <xs:element ref="Jacobian"/>
              </xs:sequence>
            </xs:complexType>
          </xs:element>
          <xs:element name="derivativeOfJacobianOfTranslation" minOccurs="0">
            <xs:annotation><xs:documentation xml:lang="de" xmlns="http://www.w3.org/1999/xhtml">
              Gibt die zeitliche Ableitung der Jacobimatrix der Translation
              <object class="inlineeqn">\dot{\boldsymbol{J}}_T(\dot{\boldsymbol{q}},\boldsymbol{q},t)</object> in
              Abhängigkeit der Ableitung der generalisierten Koordinaten, den generalisierten Koordinaten und der Zeit an.
              <p>Wenn diese Ableitung konstant 0 ist, so kann auf die Angabe dieses Elements verzichtet werden.</p>
            </xs:documentation></xs:annotation>
            <xs:complexType>
              <xs:sequence>
                <xs:element ref="Function3_MVVS"/>
              </xs:sequence>
            </xs:complexType>
          </xs:element>
          <xs:element name="derivativeOfJacobianOfRotation" minOccurs="0">
            <xs:annotation><xs:documentation xml:lang="de" xmlns="http://www.w3.org/1999/xhtml">
              Gibt die zeitliche Ableitung der Jacobimatrix der Rotation
              <object class="inlineeqn">\dot{\boldsymbol{J}}_R(\dot{\boldsymbol{q}},\boldsymbol{q},t)</object> in
              Abhängigkeit der Ableitung der generalisierten Koordinaten, den generalisierten Koordinaten und der Zeit an.
              <p>Wenn diese Ableitung konstant 0 ist, so kann auf die Angabe dieses Elements verzichtet werden.</p>
            </xs:documentation></xs:annotation>
            <xs:complexType>
              <xs:sequence>
                <xs:element ref="Function3_MVVS"/>
              </xs:sequence>
            </xs:complexType>
          </xs:element>
          <xs:element name="guidingVelocityOfTranslation" minOccurs="0">
            <xs:annotation><xs:documentation xml:lang="de" xmlns="http://www.w3.org/1999/xhtml">
              Gibt die translatorische Führungsgeschwindigkeit
              <object class="inlineeqn">\boldsymbol{v}_t=\frac{\partial \boldsymbol{r}_q}{\partial t}(t)</object>
              in Abhängigkeit der Zeit an. Diese Geschwindigkeit muss im KOS <tt>frameOfReference</tt>
              dargestellt werden.
              <p>Wenn diese Geschwindigkeit konstant 0 ist, so kann auf die Angabe dieses Elements verzichtet werden.</p>
            </xs:documentation></xs:annotation>
            <xs:complexType>
              <xs:sequence>
                <xs:element ref="Function1_VS"/>
              </xs:sequence>
            </xs:complexType>
          </xs:element>
          <xs:element name="guidingVelocityOfRotation" minOccurs="0">
            <xs:annotation><xs:documentation xml:lang="de" xmlns="http://www.w3.org/1999/xhtml">
              Gibt die rotatorische Führungsdrehgeschwindigkeit
              <object class="inlineeqn">\boldsymbol{\omega}_t(t)</object>
              in Abhängigkeit der Zeit an. Diese Geschwindigkeit muss im KOS <tt>frameOfReference</tt>
              dargestellt werden.
              <p>Wenn diese Geschwindigkeit konstant 0 ist, so kann auf die Angabe dieses Elements verzichtet werden.</p>
            </xs:documentation></xs:annotation>
            <xs:complexType>
              <xs:sequence>
                <xs:element ref="Function1_VS"/>
              </xs:sequence>
            </xs:complexType>
          </xs:element>
          <xs:element name="derivativeOfGuidingVelocityOfTranslation" minOccurs="0">
            <xs:annotation><xs:documentation xml:lang="de" xmlns="http://www.w3.org/1999/xhtml">
              Gibt die Ableitung der translatorischen Führungsgeschwindigkeit
              <object class="inlineeqn">\boldsymbol{a}_t=\dot{\boldsymbol{v}}_t(t)</object>
              in Abhängigkeit der Zeit an. Diese Beschleunigung muss im KOS <tt>frameOfReference</tt>
              dargestellt werden.
              <p>Wenn diese Beschleunigung konstant 0 ist, so kann auf die Angabe dieses Elements verzichtet werden.</p>
            </xs:documentation></xs:annotation>
            <xs:complexType>
              <xs:sequence>
                <xs:element ref="Function1_VS"/>
              </xs:sequence>
            </xs:complexType>
          </xs:element>
          <xs:element name="derivativeOfGuidingVelocityOfRotation" minOccurs="0">
            <xs:annotation><xs:documentation xml:lang="de" xmlns="http://www.w3.org/1999/xhtml">
              Gibt die Ableitung der rotatorischen Führungsdrehgeschwindigkeit
              <object class="inlineeqn">\boldsymbol{\alpha}_t=\dot{\boldsymbol{\omega}}_t(t)</object>
              in Abhängigkeit der Zeit an. Diese Drehbeschleunigung muss im KOS <tt>frameOfReference</tt>
              dargestellt werden.
              <p>Wenn diese Drehbeschleunigung konstant 0 ist, so kann auf die Angabe dieses Elements verzichtet werden.</p>
            </xs:documentation></xs:annotation>
            <xs:complexType>
              <xs:sequence>
                <xs:element ref="Function1_VS"/>
              </xs:sequence>
            </xs:complexType>
          </xs:element>
          <!-- END -->
          <xs:element name="frames">
            <xs:annotation>
              <xs:documentation xml:lang="de" xmlns="http://www.w3.org/1999/xhtml">
                Kontainer für lokale Koordinatensysteme dieses Körpers. Da es sich um einen Starrkörper
                handelt ist die relative Lage dieser KOS untereinander (und auch zum KOS "C") während
                der gesamten Simulation konstant.
              </xs:documentation>
            </xs:annotation>
            <xs:complexType>
              <xs:choice minOccurs="0" maxOccurs="unbounded">
                <xs:element ref="frame"/>
                <xs:element ref="pv:embed"/>
              </xs:choice>
            </xs:complexType>
          </xs:element>
          <xs:element name="contours">
            <xs:annotation>
              <xs:documentation xml:lang="de" xmlns="http://www.w3.org/1999/xhtml">
                Kontainer für lokale Kontaktkontouren dieses Körpers.
                Da es sich um einen Starrkörper handelt ist die relative Lage dieser Kontaktkontouren
                untereinander (und auch zum KOS "C") während der gesamten Simulation konstant.
              </xs:documentation>
            </xs:annotation>
            <xs:complexType>
              <xs:choice minOccurs="0" maxOccurs="unbounded">
                <xs:element ref="contour"/>
                <xs:element ref="pv:embed"/>
              </xs:choice>
            </xs:complexType>
          </xs:element>
          <xs:element name="openMBVRigidBody" minOccurs="0">
            <xs:annotation>
              <xs:documentation xml:lang="de" xmlns="http://www.w3.org/1999/xhtml">
                Aktiviert die Visualisierung dieses Körpers in OpenMBV durch den unten angegebenen OpenMBV Körper.
              </xs:documentation>
            </xs:annotation>
            <xs:complexType>
              <xs:sequence>
                <xs:element ref="ombv:RigidBody"/>
                <xs:element name="frameOfReference" minOccurs="0">
                  <xs:annotation>
                    <xs:documentation xml:lang="de" xmlns="http://www.w3.org/1999/xhtml">
                      Definiert das MBSim KOS mit dem das Referenz-KOS des OpenMBV Körpers zusammenfällt. Wird
                      dieses Element nicht angegeben, so wird das KOS "C" verwendent.
                    </xs:documentation>
                  </xs:annotation>
                  <xs:complexType>
                    <xs:attribute name="ref" type="CurrentFrameReferenceType" use="required"/>
                  </xs:complexType>
                </xs:element>
              </xs:sequence>
            </xs:complexType>
          </xs:element>
          <xs:element name="enableOpenMBVFrameC" minOccurs="0">
            <xs:annotation>
              <xs:documentation xml:lang="de" xmlns="http://www.w3.org/1999/xhtml">
                Aktiviert die Visualisierung des Schwerpunktskoordinatensystems "C" diese Körpers in OpenMBV.
              </xs:documentation>
            </xs:annotation>
            <xs:complexType>
              <xs:sequence>
                <xs:element name="size" type="pv:lengthScalar">
                  <xs:annotation>
                    <xs:documentation xml:lang="de" xmlns="http://www.w3.org/1999/xhtml">
                      Länge der Achsen des visuellen KOS im OpenMBV.
                    </xs:documentation>
                  </xs:annotation>
                </xs:element>
                <xs:element name="offset" type="pv:nounitScalar">
                  <xs:annotation>
                    <xs:documentation xml:lang="de" xmlns="http://www.w3.org/1999/xhtml">
                      Relative Verschiebung der Achsen (0=Achsenkreuz, 1=Rechtssystem).
                    </xs:documentation>
                  </xs:annotation>
                </xs:element>
              </xs:sequence>
            </xs:complexType> 
          </xs:element>
        </xs:sequence> 
      </xs:extension>
    </xs:complexContent>
  </xs:complexType>   

  <xs:element name="ExtraDynamicSystem" abstract="true" substitutionGroup="Element" type="ExtraDynamicSystemType">
    <xs:annotation>
      <xs:documentation xml:lang="de" xmlns="http://www.w3.org/1999/xhtml">
        Abstrakte Oberklasse eines ExtraDynamicSystems.
      </xs:documentation>
    </xs:annotation>
  </xs:element>
  <xs:complexType name="ExtraDynamicSystemType">
    <xs:complexContent>
      <xs:extension base="ElementType"/>
    </xs:complexContent>
  </xs:complexType>   

  <xs:element name="Link" abstract="true" substitutionGroup="Element" type="LinkType">
    <xs:annotation><xs:documentation xml:lang="de" xmlns="http://www.w3.org/1999/xhtml">
      Abstrakte Oberklasse eines Verbindungselements zwischen Objekten.
    </xs:documentation></xs:annotation>
  </xs:element>
  <xs:complexType name="LinkType">
    <xs:complexContent>
      <xs:extension base="ElementType">
        <xs:attribute ref="xml:base"/>
      </xs:extension>
    </xs:complexContent>
  </xs:complexType>

  <xs:element name="LinkMechanics" substitutionGroup="Link" type="LinkMechanicsType">
    <xs:annotation><xs:documentation xml:lang="de" xmlns="http://www.w3.org/1999/xhtml">
      Abstrakte Oberklasse für mechanische Verbindungselemente zwischen Körpern.
    </xs:documentation></xs:annotation>
  </xs:element>
  <xs:complexType name="LinkMechanicsType">
    <xs:complexContent>
      <xs:extension base="LinkType"/>
    </xs:complexContent>
  </xs:complexType>

  <xs:element name="KineticExcitation" substitutionGroup="LinkMechanics" type="KineticExcitationType">
    <xs:annotation><xs:documentation xml:lang="de" xmlns="http://www.w3.org/1999/xhtml">
      Definiert eine externe, kinetische Anregung auf einen Körper.
    </xs:documentation></xs:annotation>
  </xs:element>
  <xs:complexType name="KineticExcitationType">
    <xs:complexContent>
      <xs:extension base="LinkMechanicsType">
        <xs:sequence>
          <xs:element name="frameOfReference" minOccurs="0">
            <xs:annotation><xs:documentation xml:lang="de" xmlns="http://www.w3.org/1999/xhtml">
              Definiert das KOS bezüglich dem die Kraft-/Momentenrichtung der Anregung angegeben ist.
            </xs:documentation></xs:annotation>
            <xs:complexType>
              <xs:attribute name="ref" type="FrameReferenceType" use="required"/>
            </xs:complexType> 
          </xs:element>
          <xs:element name="force" minOccurs="0">
            <xs:annotation><xs:documentation xml:lang="de" xmlns="http://www.w3.org/1999/xhtml">
              Definiert eine Kraftanregung.
            </xs:documentation></xs:annotation>
            <xs:complexType>
              <xs:sequence>
                <xs:element name="directionVectors" type="pv:nounitMatrix">
                  <xs:annotation><xs:documentation xml:lang="de" xmlns="http://www.w3.org/1999/xhtml">
                    Definiert die Wirkrichtung der Kraftanregung(en).
                    Die Spalte i dieser Matrix definiert den Wirkrichtungsvektor des i-ten Eintrags der Kraftfunktion angegeben
                    im KOS <tt>frameOfReference</tt>. Um eine Skalierung der skalaren Kraft (i-ter Eintrag der Kraftfunktion)
                    zu entgehen, sollte jede Spalte dieser Matrix einen Einheitsvektor bilden.
                  </xs:documentation></xs:annotation>
                </xs:element>
                <xs:element name="function">
                  <xs:annotation><xs:documentation xml:lang="de" xmlns="http://www.w3.org/1999/xhtml">
                    Definiert die Kraftfunktion in Anhängigkeit der Zeit.
                  </xs:documentation></xs:annotation>
                  <xs:complexType>
                    <xs:sequence>
                      <xs:element ref="Function1_VS"/>
                    </xs:sequence>
                  </xs:complexType>
                </xs:element>
                <xs:element ref="ombv:Arrow" minOccurs="0">
                  <xs:annotation><xs:documentation xml:lang="de" xmlns="http://www.w3.org/1999/xhtml">
                    Wenn angegeben, wird die Kraft durch einen OpenMBV Pfeil in OpenMBV visualisiert.
                  </xs:documentation></xs:annotation>
                </xs:element>
              </xs:sequence>
            </xs:complexType>
          </xs:element>
          <xs:element name="moment" minOccurs="0">
            <xs:annotation><xs:documentation xml:lang="de" xmlns="http://www.w3.org/1999/xhtml">
              Definiert eine Momentenanregung.
            </xs:documentation></xs:annotation>
            <xs:complexType>
              <xs:sequence>
                <xs:element name="directionVectors" type="pv:nounitMatrix">
                  <xs:annotation><xs:documentation xml:lang="de" xmlns="http://www.w3.org/1999/xhtml">
                    Definiert die Wirkrichtung der Momentenanregung(en).
                    Die Spalte i dieser Matrix definiert den Wirkrichtungsvektor des i-ten Eintrags der Momentfunktion angegeben
                    im KOS <tt>frameOfReference</tt>. Um eine Skalierung des skalaren Moments (i-ter Eintrag der Momentfunktion)
                    zu entgehen, sollte jede Spalte dieser Matrix einen Einheitsvektor bilden.
                  </xs:documentation></xs:annotation>
                </xs:element>
                <xs:element name="function">
                  <xs:annotation><xs:documentation xml:lang="de" xmlns="http://www.w3.org/1999/xhtml">
                    Definiert die Momentfunktion in Anhängigkeit der Zeit.
                  </xs:documentation></xs:annotation>
                  <xs:complexType>
                    <xs:sequence>
                      <xs:element ref="Function1_VS"/>
                    </xs:sequence>
                  </xs:complexType>
                </xs:element>
                <xs:element ref="ombv:Arrow" minOccurs="0">
                  <xs:annotation><xs:documentation xml:lang="de" xmlns="http://www.w3.org/1999/xhtml">
                    Wenn angegeben, wird das Moment durch einen OpenMBV Pfeil in OpenMBV visualisiert.
                  </xs:documentation></xs:annotation>
                </xs:element>
              </xs:sequence>
            </xs:complexType>
          </xs:element>
          <xs:element name="connect">
            <xs:annotation><xs:documentation xml:lang="de" xmlns="http://www.w3.org/1999/xhtml">
              Definiert den Angriffspunkt dieser kinetischen Anregung auf einen Körper. Als Angriffspunkt
              muss dabei ein KOS des entsprechenden Körpers angegeben werden.
            </xs:documentation></xs:annotation>
            <xs:complexType>
              <xs:attribute name="ref" type="FrameReferenceType" use="required"/>
            </xs:complexType> 
          </xs:element>
        </xs:sequence> 
      </xs:extension>
    </xs:complexContent>
  </xs:complexType>   

  <xs:element name="SpringDamper" substitutionGroup="LinkMechanics" type="SpringDamperType">
    <xs:annotation><xs:documentation xml:lang="de" xmlns="http://www.w3.org/1999/xhtml">
      Definiert ein Feder-Dämpfer Element als Verbindung zwischen zwei Körpern.
    </xs:documentation></xs:annotation>
  </xs:element>
  <xs:complexType name="SpringDamperType">
    <xs:complexContent>
      <xs:extension base="LinkMechanicsType">
        <xs:sequence>
          <xs:element name="forceFunction">
            <xs:annotation><xs:documentation xml:lang="de" xmlns="http://www.w3.org/1999/xhtml">
              Definiert die Kraftfunktion in Abhängigkeit der relativen Auslenkung der Kraftangriffspunkten
              und der relativen Geschwindigkeit zwischen den Kraftangriffspunkten.
            </xs:documentation></xs:annotation>
            <xs:complexType>
              <xs:sequence>
                <xs:element ref="Function2_SSS"/>
              </xs:sequence>
            </xs:complexType> 
          </xs:element>
          <xs:element name="projectionDirection" minOccurs="0">
            <xs:annotation><xs:documentation xml:lang="de" xmlns="http://www.w3.org/1999/xhtml">
              Wenn dieses Element nicht angegeben ist, so entspricht die Kraftwirkrichtung der
              Verbindunglinie zwischen dan Kraftangriffspunkten.
              <p>Wenn diese Element angegeben ist, so wird die Kraftwirkrichtung durch den Benutzer
              vorgegeben.</p>
            </xs:documentation></xs:annotation>
            <xs:complexType>
              <xs:sequence>
                <xs:element name="frameOfReference">
                  <xs:annotation><xs:documentation xml:lang="de" xmlns="http://www.w3.org/1999/xhtml">
                    Gibt das KOS an, bezüglich dessen der Kraftwirkrichtung vorgegeben wird.
                  </xs:documentation></xs:annotation>
                  <xs:complexType>
                    <xs:attribute name="ref" type="FrameReferenceType" use="required"/>
                  </xs:complexType> 
                </xs:element>
                <xs:element name="direction" type="pv:nounitVector">
                  <xs:annotation><xs:documentation xml:lang="de" xmlns="http://www.w3.org/1999/xhtml">
                    Gibt den Kraftwirkrichtungsvektor im KOS <tt>frameOfReference</tt> an. Der vektor
                    sollte normiert sein, um eine Skalierung der Kraftfunktion zu umgehen.
                  </xs:documentation></xs:annotation>
                </xs:element>
              </xs:sequence>
            </xs:complexType> 
          </xs:element>
          <xs:element name="connect">
            <xs:annotation><xs:documentation xml:lang="de" xmlns="http://www.w3.org/1999/xhtml">
              Definiert die Angriffspunkte des Feder-Dämpfer Elements auf den beiden Körpern. Als Angriffspunkt
              muss dabei ein KOS des entsprechenden Körpers angegeben werden.
            </xs:documentation></xs:annotation>
            <xs:complexType>
              <xs:attribute name="ref1" type="FrameReferenceType" use="required"/>
              <xs:attribute name="ref2" type="FrameReferenceType" use="required"/>
            </xs:complexType> 
          </xs:element>
          <xs:element ref="ombv:CoilSpring" minOccurs="0">
            <xs:annotation><xs:documentation xml:lang="de" xmlns="http://www.w3.org/1999/xhtml">
              Wenn angegeben, wird das Feder-Dämpfer Element durch eine OpenMBV Feder in OpenMBV visualisiert.
            </xs:documentation></xs:annotation>
          </xs:element>
          <xs:element ref="ombv:Arrow" minOccurs="0">
            <xs:annotation><xs:documentation xml:lang="de" xmlns="http://www.w3.org/1999/xhtml">
              Wenn angegeben, wird das Feder-Dämpfer Element durch zwei OpenMBV Pfeile in OpenMBV visualisiert.
            </xs:documentation></xs:annotation>
          </xs:element>
        </xs:sequence>
      </xs:extension>
    </xs:complexContent>
  </xs:complexType>

  <xs:element name="Joint" substitutionGroup="LinkMechanics" type="JointType"/>
  <xs:complexType name="JointType">
    <xs:complexContent>
      <xs:extension base="LinkMechanicsType">
        <xs:sequence>
          <xs:element name="force" minOccurs="0">
            <xs:complexType>
              <xs:sequence>
                <xs:element name="direction" type="pv:nounitMatrix"/>
                <xs:element name="generalizedForceLaw">
                  <xs:complexType>
                    <xs:sequence>
                      <xs:element ref="GeneralizedForceLaw"/>
                    </xs:sequence>
                  </xs:complexType>
                </xs:element>
                <xs:element name="generalizedImpactLaw">
                  <xs:complexType>
                    <xs:sequence>
                      <xs:element ref="GeneralizedImpactLaw" minOccurs="0"/>
                    </xs:sequence>
                  </xs:complexType>
                </xs:element>
                <xs:element ref="ombv:Arrow" minOccurs="0"/>
              </xs:sequence>
            </xs:complexType>
          </xs:element>
          <xs:element name="moment" minOccurs="0">
            <xs:complexType>
              <xs:sequence>
                <xs:element name="direction" type="pv:nounitMatrix"/>
                <xs:element name="generalizedForceLaw">
                  <xs:complexType>
                    <xs:sequence>
                      <xs:element ref="GeneralizedForceLaw"/>
                    </xs:sequence>
                  </xs:complexType>
                </xs:element>
                <xs:element name="generalizedImpactLaw">
                  <xs:complexType>
                    <xs:sequence>
                      <xs:element ref="GeneralizedImpactLaw" minOccurs="0"/>
                    </xs:sequence>
                  </xs:complexType>
                </xs:element>
                <xs:element ref="ombv:Arrow" minOccurs="0"/>
              </xs:sequence>
            </xs:complexType>
          </xs:element>
          <xs:element name="connect">
            <xs:complexType>
              <xs:attribute name="ref1" type="FrameReferenceType" use="required"/>
              <xs:attribute name="ref2" type="FrameReferenceType" use="required"/>
            </xs:complexType> 
          </xs:element>
        </xs:sequence> 
      </xs:extension>
    </xs:complexContent>
  </xs:complexType>   

  <xs:element name="Contact" substitutionGroup="LinkMechanics" type="ContactType">
    <xs:annotation>
      <xs:documentation xml:lang="de" xmlns="http://www.w3.org/1999/xhtml">
        <object class="figure" standby="4cm" data="contact" title="Kinematik einer Kontaktpaarung"></object>
      </xs:documentation>
    </xs:annotation>
  </xs:element>
  <xs:complexType name="ContactType">
    <xs:complexContent>
      <xs:extension base="LinkMechanicsType">
        <xs:sequence>
          <xs:element name="contactForceLaw">
            <xs:complexType>
              <xs:sequence>
                <xs:element ref="GeneralizedForceLaw"/>
              </xs:sequence>
            </xs:complexType>
          </xs:element>
          <xs:element name="contactImpactLaw">
            <xs:complexType>
              <xs:sequence>
                <xs:element ref="GeneralizedImpactLaw" minOccurs="0"/>
              </xs:sequence>
            </xs:complexType>
          </xs:element>
          <xs:element name="frictionForceLaw">
            <xs:complexType>
              <xs:sequence>
                <xs:element ref="FrictionForceLaw" minOccurs="0"/>
              </xs:sequence>
            </xs:complexType>
          </xs:element>
          <xs:element name="frictionImpactLaw">
            <xs:complexType>
              <xs:sequence>
                <xs:element ref="FrictionImpactLaw" minOccurs="0"/>
              </xs:sequence>
            </xs:complexType>
          </xs:element>
          <xs:element name="connect">
            <xs:complexType>
              <xs:attribute name="ref1" type="ContourReferenceType" use="required"/>
              <xs:attribute name="ref2" type="ContourReferenceType" use="required"/>
            </xs:complexType> 
          </xs:element>
          <xs:element name="enableOpenMBVContactPoints" type="pv:lengthScalar" minOccurs="0"/>
          <xs:element name="openMBVNormalForceArrow" minOccurs="0">
            <xs:complexType>
              <xs:sequence>
                <xs:element ref="ombv:Arrow"/>
              </xs:sequence>
            </xs:complexType>
          </xs:element>
          <xs:element name="openMBVFrictionArrow" minOccurs="0">
            <xs:complexType>
              <xs:sequence>
                <xs:element ref="ombv:Arrow"/>
              </xs:sequence>
            </xs:complexType>
          </xs:element>
        </xs:sequence> 
      </xs:extension>
    </xs:complexContent>
  </xs:complexType>   

  <xs:element name="Frame" substitutionGroup="Element" type="FrameType"/>
  <xs:complexType name="FrameType">
    <xs:complexContent>
      <xs:extension base="ElementType">
        <xs:sequence>
          <xs:element name="enableOpenMBV" minOccurs="0">  
            <xs:complexType>
              <xs:sequence>
                <xs:element name="size" type="pv:lengthScalar"/>
                <xs:element name="offset" type="pv:nounitScalar"/>
              </xs:sequence>
            </xs:complexType> 
          </xs:element>
        </xs:sequence> 
      </xs:extension>
    </xs:complexContent>
  </xs:complexType> 

  <xs:element name="Contour" abstract="true" substitutionGroup="Element" type="ContourType">
    <xs:annotation>
      <xs:documentation xml:lang="de" xmlns="http://www.w3.org/1999/xhtml">
        Abstrakte Klasse für Kontaktkonturen.
      </xs:documentation>
    </xs:annotation>
  </xs:element>
  <xs:complexType name="ContourType">
    <xs:complexContent>
      <xs:extension base="ElementType"/>
    </xs:complexContent>
  </xs:complexType>

  <xs:element name="RigidContour" substitutionGroup="Contour" type="RigidContourType">
    <xs:annotation>
      <xs:documentation xml:lang="de" xmlns="http://www.w3.org/1999/xhtml">
        Abstrakte Klasse für starre Konturen.
      </xs:documentation>
    </xs:annotation>
  </xs:element>
  <xs:complexType name="RigidContourType">
    <xs:complexContent>
      <xs:extension base="ContourType"/>
    </xs:complexContent>
  </xs:complexType>

  <xs:element name="CircleHollow" substitutionGroup="RigidContour" type="CircleHollowType">
    <xs:annotation>
      <xs:documentation xml:lang="de" xmlns="http://www.w3.org/1999/xhtml">
        Ebene Kontur eines CircleHollow (= Hohlzylinders = Kreiskontur mit Kontakt innen). Die Kreiskontur liegt normal zur z-Achse des Referenzkoordinatensystems.
        <object class="figure" standby="4cm" data="contour_circlehollow" title="Orientierung einer CicleHollow-Kontour"></object>
      </xs:documentation>
    </xs:annotation>
  </xs:element>
  <xs:complexType name="CircleHollowType">
    <xs:complexContent>
      <xs:extension base="RigidContourType">
        <xs:sequence>
          <xs:element name="radius" type="pv:lengthScalar">
            <xs:annotation>
              <xs:documentation xml:lang="de" xmlns="http://www.w3.org/1999/xhtml">
                Innenradius des Hohlzylinders
              </xs:documentation>
            </xs:annotation>
          </xs:element>
          <xs:element name="enableOpenMBV" minOccurs="0">
            <xs:annotation>
              <xs:documentation xml:lang="de" xmlns="http://www.w3.org/1999/xhtml">
                Visualisierung der Kontur
              </xs:documentation>
            </xs:annotation>
          </xs:element>
        </xs:sequence>
      </xs:extension>
    </xs:complexContent>
  </xs:complexType>

  <xs:element name="CircleSolid" substitutionGroup="RigidContour" type="CircleSolidType">
    <xs:annotation>
      <xs:documentation xml:lang="de" xmlns="http://www.w3.org/1999/xhtml">
        Ebene Kontur eines CircleSolid (= (Voll)zylinders = Kreiskontur mit Kontakt aussen). Die Kreiskontur liegt normal zur z-Achse des Referenzkoordinatensystems. 
        <object class="figure" standby="4cm" data="contour_circlesolid" title="Orientierung einer CircleSolid-Kontour"></object>
      </xs:documentation>
    </xs:annotation>
  </xs:element>
  <xs:complexType name="CircleSolidType">
    <xs:complexContent>
      <xs:extension base="RigidContourType">
        <xs:sequence>
          <xs:element name="radius" type="pv:lengthScalar">
            <xs:annotation>
              <xs:documentation xml:lang="de" xmlns="http://www.w3.org/1999/xhtml">
                Aussenradius des Vollzylinders
              </xs:documentation>
            </xs:annotation>
          </xs:element>
          <xs:element name="enableOpenMBV" minOccurs="0">
            <xs:annotation>
              <xs:documentation xml:lang="de" xmlns="http://www.w3.org/1999/xhtml">
                Visualisierung der Kontur
              </xs:documentation>
            </xs:annotation>
          </xs:element>
        </xs:sequence>
      </xs:extension>
    </xs:complexContent>
  </xs:complexType>

  <xs:element name="Frustum" substitutionGroup="RigidContour" type="FrustumType">
    <xs:annotation>
      <xs:documentation xml:lang="de" xmlns="http://www.w3.org/1999/xhtml">
        Kontur eines Kegelstumpfes. Hiermit kann auch ein Kegel und ein Zylinder abgedeckt werden.
        Die Symmetrieachse fällt mit der y-Achse des Referenzkoordinationsystems zusammen. Zu definierende geometrische Größen sind in der Zeichnung eingetragen.      
        <object class="figure" standby="4cm" data="contour_frustum" title="Orientierung und geometrische Größen einer Frustum-Kontour"></object>
      </xs:documentation>
    </xs:annotation>
  </xs:element>
  <xs:complexType name="FrustumType">
    <xs:complexContent>
      <xs:extension base="RigidContourType">
        <xs:sequence>
          <xs:element name="baseRadius" type="pv:lengthScalar">
            <xs:annotation>
              <xs:documentation xml:lang="de" xmlns="http://www.w3.org/1999/xhtml">
                Radius des Fußkreises
              </xs:documentation>
            </xs:annotation>
          </xs:element>
          <xs:element name="topRadius" type="pv:lengthScalar">
            <xs:annotation>
              <xs:documentation xml:lang="de" xmlns="http://www.w3.org/1999/xhtml">
                Radius des Kopfkreises
              </xs:documentation>
            </xs:annotation>
          </xs:element>
          <xs:element name="height" type="pv:lengthScalar">
            <xs:annotation>
              <xs:documentation xml:lang="de" xmlns="http://www.w3.org/1999/xhtml">
                Höhe des Kegelstumpfes
              </xs:documentation>
            </xs:annotation>
          </xs:element>
          <xs:choice>
            <xs:element name="solid">
              <xs:annotation>
                <xs:documentation xml:lang="de" xmlns="http://www.w3.org/1999/xhtml">
                  Als Kontaktkontur wird die Ausfläche des Kegelstumpfes gewählt
                </xs:documentation>
              </xs:annotation>
            </xs:element>
            <xs:element name="hollow">
              <xs:annotation>
                <xs:documentation xml:lang="de" xmlns="http://www.w3.org/1999/xhtml">
                  Als Kontaktkontur wird die Innenfläche des Kegelstumpfes gewählt
                </xs:documentation>
              </xs:annotation>
            </xs:element>
          </xs:choice>
          <xs:element name="enableOpenMBV" minOccurs="0">
            <xs:annotation>
              <xs:documentation xml:lang="de" xmlns="http://www.w3.org/1999/xhtml">
                Visualisierung der Kontur
              </xs:documentation>
            </xs:annotation>
          </xs:element>
        </xs:sequence>
      </xs:extension>
    </xs:complexContent>
  </xs:complexType>

  <xs:element name="Line" substitutionGroup="RigidContour" type="LineType">
    <xs:annotation>
      <xs:documentation xml:lang="de" xmlns="http://www.w3.org/1999/xhtml">
        Einfache, unendlich ausgedehnte Linienkontur.
        Die Linie verläuft in Richtung der y-Achse des Referenzkoordinatensystems, die Normale weist in die Richtung der x-Achse des Referenzkoordinatensystems.
        <object class="figure" standby="4cm" data="contour_line" title="Orientierung einer Line-Kontour"/>
      </xs:documentation>
    </xs:annotation>
  </xs:element>
  <xs:complexType name="LineType">
    <xs:complexContent>
      <xs:extension base="RigidContourType"/>
    </xs:complexContent>
  </xs:complexType>

  <xs:element name="Plane" substitutionGroup="RigidContour" type="PlaneType">
    <xs:annotation>
      <xs:documentation xml:lang="de" xmlns="http://www.w3.org/1999/xhtml">
        Unendlich ausgedehnte Ebenenkontur.
        Die Ebene wird durch die y- und z-Achse des Referenzkoordinatensystems beschrieben.
        <object class="figure" standby="4cm" data="contour_plane" title="Orientierung einer Plane-Kontour"></object>
      </xs:documentation>
    </xs:annotation>
  </xs:element>
  <xs:complexType name="PlaneType">
    <xs:complexContent>
      <xs:extension base="RigidContourType"/>
    </xs:complexContent>
  </xs:complexType>

  <xs:element name="PlaneWithFrustum" substitutionGroup="RigidContour" type="PlaneWithFrustumType">
    <xs:annotation>
      <xs:documentation xml:lang="de" xmlns="http://www.w3.org/1999/xhtml">
        Eine Kontur, die aus einer Ebene und einem Kegelstumpf (Frustum) besteht. Die Ebene wird wie gezeichnet durch die y- und z-Achse des Referenzkoordinatensystems aufgespannt, die Rotationsachse des Kegelstumpfes ist die x-Achse des Referenzkoordinatensystems. Für eine Kegelstumpf-Höhe h&gt;0 erstreckt sich die Kegelstumpfkontur - wie gezeichnet - in Richtung der positiven x-Achse des Referenzkoordinatensystems. Rho ist der Radius der Verrundung zwischen Ebene und Kegelstumpf und am Kopf des Kegelstumpfes.
        <object class="figure" standby="4cm" data="contour_planewithfrustum" title="Orientierung einer PlaneWithFrustum-Kontour"></object>
      </xs:documentation>
    </xs:annotation>
  </xs:element>
  <xs:complexType name="PlaneWithFrustumType">
    <xs:complexContent>
      <xs:extension base="RigidContourType">
        <xs:sequence>
          <xs:element name="baseRadius" type="pv:lengthScalar">
            <xs:annotation>
              <xs:documentation xml:lang="de" xmlns="http://www.w3.org/1999/xhtml">
                Radius des Fußkreises
              </xs:documentation>
            </xs:annotation>
          </xs:element>
          <xs:element name="topRadius" type="pv:lengthScalar">
            <xs:annotation>
              <xs:documentation xml:lang="de" xmlns="http://www.w3.org/1999/xhtml">
                Radius des Kopfkreises
              </xs:documentation>
            </xs:annotation>
          </xs:element>
          <xs:element name="height" type="pv:lengthScalar">
            <xs:annotation>
              <xs:documentation xml:lang="de" xmlns="http://www.w3.org/1999/xhtml">
                Höhe des Kegelstumpfes
              </xs:documentation>
            </xs:annotation>
          </xs:element>
          <xs:element name="roundingRadius" type="pv:lengthScalar">
            <xs:annotation>
              <xs:documentation xml:lang="de" xmlns="http://www.w3.org/1999/xhtml">
                Verrundungsradius, einmal zwischen Ebene und Kegelstumpf und einmal zwischen Kegelstumpf und Deckfläche des Kegelstumpfes (wie gezeichnet)
              </xs:documentation>
            </xs:annotation>
          </xs:element>
          <xs:element name="enableOpenMBV" minOccurs="0">
            <xs:annotation>
              <xs:documentation xml:lang="de" xmlns="http://www.w3.org/1999/xhtml">
                Visualisierung der Kontur
              </xs:documentation>
            </xs:annotation>
          </xs:element>
        </xs:sequence>
      </xs:extension>
    </xs:complexContent>
  </xs:complexType>

  <xs:element name="Point" substitutionGroup="RigidContour" type="PointType">
    <xs:annotation>
      <xs:documentation xml:lang="de" xmlns="http://www.w3.org/1999/xhtml">
        Kontur eines einzelnen Punktes.
      </xs:documentation>
    </xs:annotation>
  </xs:element>
  <xs:complexType name="PointType">
    <xs:complexContent>
      <xs:extension base="RigidContourType"/>
    </xs:complexContent>
  </xs:complexType>

  <xs:element name="Sphere" substitutionGroup="RigidContour" type="SphereType">
    <xs:annotation>
      <xs:documentation xml:lang="de" xmlns="http://www.w3.org/1999/xhtml">
        Kontur einer Kugel.
        Der Radius r gibt den Radius der Kugel an
        <object class="figure" standby="4cm" data="contour_sphere" title="Geometrie einer Sphere-Kontour"></object>
      </xs:documentation>
    </xs:annotation>
  </xs:element>
  <xs:complexType name="SphereType">
    <xs:complexContent>
      <xs:extension base="RigidContourType">
        <xs:sequence>
          <xs:element name="radius" type="pv:lengthScalar">
            <xs:annotation>
              <xs:documentation xml:lang="de" xmlns="http://www.w3.org/1999/xhtml">
                Radius der Kugel
              </xs:documentation>
            </xs:annotation>
          </xs:element>
          <xs:element name="enableOpenMBV" minOccurs="0">
            <xs:annotation>
              <xs:documentation xml:lang="de" xmlns="http://www.w3.org/1999/xhtml">
                Visualisierung der Kontur
              </xs:documentation>
            </xs:annotation>
          </xs:element>
        </xs:sequence>
      </xs:extension>
    </xs:complexContent>
  </xs:complexType>

  <xs:element name="ContourContinuum" substitutionGroup="Contour" abstract="true" type="ContourContinuumType">
    <xs:annotation>
      <xs:documentation xml:lang="de" xmlns="http://www.w3.org/1999/xhtml">
        Abstrakte Klasse zur Beschreibung kontinuierlicher Konturen. Die Konturen werden in Abhängigkeit eines Parameters <object class="inlineeqn">\alpha \, \left(\alpha_{Start} \leq \alpha \leq \alpha_{End} \right)</object> beschrieben. Für eine effiziente Abstandsberechnung müssen vom Benutzer zusätzliche Stützstellen angegeben werden, anhand derer eine erste Abschätzung des Kontaktbereiches erfolgt.
      </xs:documentation>
    </xs:annotation>
  </xs:element>
  <xs:complexType name="ContourContinuumType">
    <xs:complexContent>
      <xs:extension base="ContourType">
        <xs:sequence>
          <xs:element name="alphaStart" type="pv:nounitScalar">
            <xs:annotation>
              <xs:documentation xml:lang="de" xmlns="http://www.w3.org/1999/xhtml">
                Startwert des Laufparameters <object class="inlineeqn">\alpha</object>
              </xs:documentation>
            </xs:annotation>
          </xs:element>
          <xs:element name="alphaEnd" type="pv:nounitScalar">
            <xs:annotation>
              <xs:documentation xml:lang="de" xmlns="http://www.w3.org/1999/xhtml">
                Endwert des Laufparameters <object class="inlineeqn">\alpha</object>
              </xs:documentation>
            </xs:annotation>
          </xs:element>
          <xs:element name="nodes" type="pv:nounitScalar">
            <xs:annotation>
              <xs:documentation xml:lang="de" xmlns="http://www.w3.org/1999/xhtml">
                Stützstellen
              </xs:documentation>
            </xs:annotation>
          </xs:element>
        </xs:sequence>
      </xs:extension>
    </xs:complexContent>
  </xs:complexType>

  <xs:element name="Contour1s" substitutionGroup="ContourContinuum" abstract="true" type="Contour1sType">
    <xs:annotation>
      <xs:documentation xml:lang="de" xmlns="http://www.w3.org/1999/xhtml">
        Abstrakte Klasse zur Beschreibung beliebiger, ebener Konturen.
      </xs:documentation>
    </xs:annotation>
  </xs:element>
  <xs:complexType name="Contour1sType">
    <xs:complexContent>
      <xs:extension base="ContourContinuumType">
        <xs:sequence>
          <xs:element name="diameter" type="pv:lengthScalar">
            <xs:annotation>
              <xs:documentation xml:lang="de" xmlns="http://www.w3.org/1999/xhtml">
                räumliche Tiefe der Kontur.
              </xs:documentation>
            </xs:annotation>
          </xs:element>
        </xs:sequence>
      </xs:extension>
    </xs:complexContent>
  </xs:complexType>

  <xs:element name="Contour1sAnalytical" substitutionGroup="Contour1s" type="Contour1sAnalyticalType">
    <xs:annotation>
      <xs:documentation xml:lang="de" xmlns="http://www.w3.org/1999/xhtml">
        Ebene Kontur, die analytisch durch einen funktionalen Zusammenhang beschrieben werden kann:
        <object class="eqn">
          <![CDATA[\left\{\begin{array}{c}
          f_x \\
          f_y \\
          f_z
          \end{array}\right\} = \mathbf{f} \left(\alpha\right)]]>
        </object>
      </xs:documentation>
    </xs:annotation>
  </xs:element>
  <xs:complexType name="Contour1sAnalyticalType">
    <xs:complexContent>
      <xs:extension base="Contour1sType">
        <xs:sequence>
          <xs:element name="contourFunction">
            <xs:complexType>
              <xs:sequence>
                <xs:element ref="FunctionContour">
                  <xs:annotation>
                    <xs:documentation xml:lang="de" xmlns="http://www.w3.org/1999/xhtml">
                      Beschreibung der Kontur
                    </xs:documentation>
                  </xs:annotation>
                </xs:element>
              </xs:sequence>
            </xs:complexType> 
          </xs:element>
          <xs:element name="enableOpenMBV" minOccurs="0">
            <xs:annotation>
              <xs:documentation xml:lang="de" xmlns="http://www.w3.org/1999/xhtml">
                Visualisierung der Kontur
              </xs:documentation>
            </xs:annotation>
          </xs:element>
        </xs:sequence>
      </xs:extension>
    </xs:complexContent>
  </xs:complexType>

  <xs:element name="Translation" abstract="true" type="TranslationType"/>
  <xs:complexType name="TranslationType"/>

  <xs:element name="LinearTranslation" substitutionGroup="Translation" type="LinearTranslationType"/>
  <xs:complexType name="LinearTranslationType">
    <xs:complexContent>
      <xs:extension base="TranslationType">
        <xs:sequence>
          <xs:element name="translationVectors" type="pv:nounitMatrix"/>
        </xs:sequence> 
      </xs:extension>
    </xs:complexContent>
  </xs:complexType>   

  <xs:element name="TimeDependentTranslation1D" substitutionGroup="Translation" type="TimeDependentTranslation1DType"/>
  <xs:complexType name="TimeDependentTranslation1DType">
    <xs:complexContent>
      <xs:extension base="TranslationType">
        <xs:sequence>
          <xs:element name="direction" type="pv:nounitVector"/>
          <xs:element name="position">
            <xs:complexType>
              <xs:sequence>
                <xs:element ref="Function1_SS">
                </xs:element>
              </xs:sequence>
            </xs:complexType>
          </xs:element>
        </xs:sequence> 
      </xs:extension>
    </xs:complexContent>
  </xs:complexType>   

  <xs:element name="Rotation" abstract="true" type="RotationType"/>
  <xs:complexType name="RotationType"/>

  <xs:element name="RotationAboutFixedAxis" substitutionGroup="Rotation" type="RotationAboutFixedAxisType"/>
  <xs:complexType name="RotationAboutFixedAxisType">
    <xs:complexContent>
      <xs:extension base="RotationType">
        <xs:sequence>
          <xs:element name="axisOfRotation" type="pv:nounitVector"/>
        </xs:sequence> 
      </xs:extension>
    </xs:complexContent>
  </xs:complexType>   

  <xs:element name="TimeDependentRotation1D" substitutionGroup="Rotation" type="TimeDependentRotation1DType"/>
  <xs:complexType name="TimeDependentRotation1DType">
    <xs:complexContent>
      <xs:extension base="RotationType">
        <xs:sequence>
          <xs:element name="direction1" type="pv:nounitVector"/>
          <xs:element name="direction2" type="pv:nounitVector"/>
          <xs:element name="position">
            <xs:complexType>
              <xs:sequence>
                <xs:element ref="Function1_SS">
                </xs:element>
              </xs:sequence>
            </xs:complexType>
          </xs:element>
        </xs:sequence> 
      </xs:extension>
    </xs:complexContent>
  </xs:complexType>   

  <xs:element name="CardanAngles" substitutionGroup="Rotation" type="CardanAnglesType"/>
  <xs:complexType name="CardanAnglesType">
    <xs:complexContent>
      <xs:extension base="RotationType"/>
    </xs:complexContent>
  </xs:complexType>   

  <xs:element name="GeneralizedForceLaw" abstract="true" type="GeneralizedForceLawType"/>
  <xs:complexType name="GeneralizedForceLawType"/>

  <xs:element name="BilateralConstraint" substitutionGroup="GeneralizedForceLaw" type="BilateralConstraintType"/>
  <xs:complexType name="BilateralConstraintType">
    <xs:complexContent>
      <xs:extension base="GeneralizedForceLawType"/>
    </xs:complexContent>
  </xs:complexType>   

  <xs:element name="UnilateralConstraint" substitutionGroup="GeneralizedForceLaw" type="UnilateralConstraintType"/>
  <xs:complexType name="UnilateralConstraintType">
    <xs:complexContent>
      <xs:extension base="GeneralizedForceLawType"/>
    </xs:complexContent>
  </xs:complexType>   

  <xs:element name="GeneralizedImpactLaw" abstract="true" type="GeneralizedImpactLawType"/>
  <xs:complexType name="GeneralizedImpactLawType"/>

  <xs:element name="BilateralImpact" substitutionGroup="GeneralizedImpactLaw" type="BilateralImpactType"/>
  <xs:complexType name="BilateralImpactType">
    <xs:complexContent>
      <xs:extension base="GeneralizedImpactLawType"/>
    </xs:complexContent>
  </xs:complexType>   

  <xs:element name="UnilateralNewtonImpact" substitutionGroup="GeneralizedImpactLaw" type="UnilateralNewtonImpactType"/>
  <xs:complexType name="UnilateralNewtonImpactType">
    <xs:complexContent>
      <xs:extension base="GeneralizedImpactLawType">
        <xs:sequence>
          <xs:element name="restitutionCoefficient" type="pv:nounitScalar">
            <xs:annotation>
              <xs:documentation xml:lang="de" xmlns="http://www.w3.org/1999/xhtml">
                Stoßzahl. Wert zwischen 0 (plastisch) und 1 (vollelastisch).
              </xs:documentation>
            </xs:annotation>
          </xs:element>
        </xs:sequence> 
      </xs:extension>
    </xs:complexContent>
  </xs:complexType>   

  <xs:element name="RegularizedBilateralConstraint" substitutionGroup="GeneralizedForceLaw" type="RegularizedBilateralConstraintType"/>
  <xs:complexType name="RegularizedBilateralConstraintType">
    <xs:complexContent>
      <xs:extension base="GeneralizedForceLawType">
        <xs:sequence>
          <xs:element name="forceFunction">
            <xs:complexType>
              <xs:sequence>
                <xs:element ref="Function2_SSS"/>
              </xs:sequence>
            </xs:complexType> 
          </xs:element>
        </xs:sequence> 
      </xs:extension>
    </xs:complexContent>
  </xs:complexType>   

  <xs:element name="RegularizedUnilateralConstraint" substitutionGroup="GeneralizedForceLaw" type="RegularizedUnilateralConstraintType"/>
  <xs:complexType name="RegularizedUnilateralConstraintType">
    <xs:complexContent>
      <xs:extension base="GeneralizedForceLawType">
        <xs:sequence>
          <xs:element name="forceFunction">
            <xs:complexType>
              <xs:sequence>
                <xs:element ref="Function2_SSS"/>
              </xs:sequence>
            </xs:complexType> 
          </xs:element>
        </xs:sequence> 
      </xs:extension>
    </xs:complexContent>
  </xs:complexType>   

  <xs:element name="FrictionForceLaw" abstract="true" type="FrictionForceLawType"/>
  <xs:complexType name="FrictionForceLawType"/>

  <xs:element name="RegularizedPlanarFriction" substitutionGroup="FrictionForceLaw" type="RegularizedPlanarFrictionType"/>
  <xs:complexType name="RegularizedPlanarFrictionType">
    <xs:complexContent>
      <xs:extension base="FrictionForceLawType">
        <xs:sequence>
          <xs:element name="frictionForceFunction">
            <xs:complexType>
              <xs:sequence>
                <xs:element ref="Function2_VVS"/>
              </xs:sequence>
            </xs:complexType> 
          </xs:element>
        </xs:sequence> 
      </xs:extension>
    </xs:complexContent>
  </xs:complexType>   

  <xs:element name="RegularizedSpatialFriction" substitutionGroup="FrictionForceLaw" type="RegularizedSpatialFrictionType"/>
  <xs:complexType name="RegularizedSpatialFrictionType">
    <xs:complexContent>
      <xs:extension base="FrictionForceLawType">
        <xs:sequence>
          <xs:element name="frictionForceFunction">
            <xs:complexType>
              <xs:sequence>
                <xs:element ref="Function2_VVS"/>
              </xs:sequence>
            </xs:complexType> 
          </xs:element>
        </xs:sequence> 
      </xs:extension>
    </xs:complexContent>
  </xs:complexType>   

  <xs:element name="SpatialCoulombFriction" substitutionGroup="FrictionForceLaw" type="SpatialCoulombFrictionType"/>
  <xs:complexType name="SpatialCoulombFrictionType">
    <xs:complexContent>
      <xs:extension base="FrictionForceLawType">
        <xs:sequence>
          <xs:element name="frictionCoefficient" type="pv:nounitScalar"/>
        </xs:sequence> 
      </xs:extension>
    </xs:complexContent>
  </xs:complexType>   

  <xs:element name="FrictionImpactLaw" abstract="true" type="FrictionImpactLawType"/>
  <xs:complexType name="FrictionImpactLawType"/>

  <xs:element name="SpatialCoulombImpact" substitutionGroup="FrictionImpactLaw" type="SpatialCoulombImpactType"/>
  <xs:complexType name="SpatialCoulombImpactType">
    <xs:complexContent>
      <xs:extension base="FrictionImpactLawType">
        <xs:sequence>
          <xs:element name="frictionCoefficient" type="pv:nounitScalar"/>
        </xs:sequence> 
      </xs:extension>
    </xs:complexContent>
  </xs:complexType>   

  <xs:element name="Jacobian" abstract="true" type="JacobianType"/>
  <xs:complexType name="JacobianType"/>

  <xs:element name="ConstantJacobian" substitutionGroup="Jacobian" type="ConstantJacobianType"/>
  <xs:complexType name="ConstantJacobianType">
    <xs:complexContent>
      <xs:extension base="JacobianType">
        <xs:sequence>
          <xs:element name="constant" type="pv:unknownMatrix"/>
        </xs:sequence> 
      </xs:extension>
    </xs:complexContent>
  </xs:complexType>   

  <xs:element name="Function1_SS" abstract="true" type="Function1_SSType">
    <xs:annotation>
      <xs:documentation xml:lang="de" xmlns="http://www.w3.org/1999/xhtml">
        Abstrakte Klasse von Funktionen vom Typ <object class="inlineeqn">y=f(x)</object>.
      </xs:documentation>
    </xs:annotation>
  </xs:element>
  <xs:complexType name="Function1_SSType"/>

  <xs:element name="ConstantFunction1_SS" substitutionGroup="Function1_SS" type="ConstantFunction1_SSType">
    <xs:annotation>
      <xs:documentation xml:lang="de" xmlns="http://www.w3.org/1999/xhtml">
        Konstanter Funktionswert: <object class="inlineeqn">y=c</object>.
      </xs:documentation>
    </xs:annotation>
  </xs:element>
  <xs:complexType name="ConstantFunction1_SSType">
    <xs:complexContent>
      <xs:extension base="Function1_SSType">
        <xs:sequence>
          <xs:element name="value" type="pv:unknownScalar">
            <xs:annotation>
              <xs:documentation xml:lang="de" xmlns="http://www.w3.org/1999/xhtml">
                Konstanter Funktionswert.
              </xs:documentation>
            </xs:annotation>
          </xs:element>
        </xs:sequence> 
      </xs:extension>
    </xs:complexContent>
  </xs:complexType>   

  <xs:element name="Function1_SS_from_VS" substitutionGroup="Function1_SS" type="Function1_SS_from_VSType">
    <xs:annotation>
      <xs:documentation xml:lang="de" xmlns="http://www.w3.org/1999/xhtml">
        Generiert eine Funktion von Typ <object class="inlineeqn">y=f(x)</object> aus einer Funktion vom Typ <object class="inlineeqn">\boldsymbol{y}=f(x)</object>. Es wird immer der erste Index weitergereicht: <object class="inlineeqn">y=\boldsymbol{y}_1</object>
      </xs:documentation>
    </xs:annotation>
  </xs:element>
  <xs:complexType name="Function1_SS_from_VSType">
    <xs:complexContent>
      <xs:extension base="Function1_SSType">
        <xs:sequence>
          <xs:element ref="Function1_VS"/>
        </xs:sequence> 
      </xs:extension>
    </xs:complexContent>
  </xs:complexType>   

  <xs:element name="Function1_VS" abstract="true" type="Function1_VSType">
    <xs:annotation>
      <xs:documentation xml:lang="de" xmlns="http://www.w3.org/1999/xhtml">
        Abstrakte Klasse von vektorwertigen Funktionen vom Typ <object class="inlineeqn">\boldsymbol{y}=f(x)</object>.
      </xs:documentation>
    </xs:annotation>
  </xs:element>
  <xs:complexType name="Function1_VSType"/>

  <xs:element name="ConstantFunction1_VS" substitutionGroup="Function1_VS" type="ConstantFunction1_VSType">
    <xs:annotation>
      <xs:documentation xml:lang="de" xmlns="http://www.w3.org/1999/xhtml">
        Konstanter Funktionswert.
      </xs:documentation>
    </xs:annotation>
  </xs:element>
  <xs:complexType name="ConstantFunction1_VSType">
    <xs:complexContent>
      <xs:extension base="Function1_VSType">
        <xs:sequence>
          <xs:element name="value" type="pv:unknownVector">
            <xs:annotation>
              <xs:documentation xml:lang="de" xmlns="http://www.w3.org/1999/xhtml">
                Konstanter Funktionswert: <object class="inlineeqn">\boldsymbol{y}=\boldsymbol{c}</object>.
              </xs:documentation>
            </xs:annotation>
          </xs:element>
        </xs:sequence> 
      </xs:extension>
    </xs:complexContent>
  </xs:complexType>   

  <xs:element name="Function1_VS_from_SS" substitutionGroup="Function1_VS" type="Function1_VS_from_SSType">
    <xs:annotation>
      <xs:documentation xml:lang="de" xmlns="http://www.w3.org/1999/xhtml">
        Generiert eine Funktion vom Typ  <object class="inlineeqn">\boldsymbol{y}=f(x)</object> durch eine Multiplikation des skalaren Funktionswertes mit einem normierten Richtungsvektor:  <object class="inlineeqn">\boldsymbol{y}=\boldsymbol{n} \, f(x)</object>
      </xs:documentation>
    </xs:annotation>
  </xs:element>
  <xs:complexType name="Function1_VS_from_SSType">
    <xs:complexContent>
      <xs:extension base="Function1_VSType">
        <xs:sequence>
          <xs:element name="function">
            <xs:complexType>
              <xs:sequence>
                <xs:element ref="Function1_SS">
                  <xs:annotation>
                    <xs:documentation xml:lang="de" xmlns="http://www.w3.org/1999/xhtml">
                      Funktion vom Typ  <object class="inlineeqn">y=f(x)</object>.
                    </xs:documentation>
                  </xs:annotation>
                </xs:element>
              </xs:sequence>
            </xs:complexType>
          </xs:element>
          <xs:element name="direction" type="pv:nounitVector">
            <xs:annotation>
              <xs:documentation xml:lang="de" xmlns="http://www.w3.org/1999/xhtml">
                Richtungsvektor
              </xs:documentation>
            </xs:annotation>
          </xs:element>
        </xs:sequence> 
      </xs:extension>
    </xs:complexContent>
  </xs:complexType>   

  <xs:element name="PositiveSinusFunction1_VS" substitutionGroup="Function1_VS" type="PositiveSinusFunction1_VSType">
    <xs:annotation>
      <xs:documentation xml:lang="de" xmlns="http://www.w3.org/1999/xhtml">
        <object class="inlineeqn">\boldsymbol{y}= f(x)</object> mit 
        <object class="inlineeqn">y_i= \begin{cases} a_i \, \sin \left( 2 \, \pi \, f_i \, t + \varphi_i \right) \\ 0 \end{cases}</object>
      </xs:documentation>
    </xs:annotation>
  </xs:element>
  <xs:complexType name="PositiveSinusFunction1_VSType">
    <xs:complexContent>
      <xs:extension base="Function1_VSType">
        <xs:sequence>
          <xs:element name="amplitude" type="pv:unknownVector">
            <xs:annotation>
              <xs:documentation xml:lang="de" xmlns="http://www.w3.org/1999/xhtml">
                Vektor der Amplituden
              </xs:documentation>
            </xs:annotation>
          </xs:element>
          <xs:element name="frequency" type="pv:unknownVector">
            <xs:annotation>
              <xs:documentation xml:lang="de" xmlns="http://www.w3.org/1999/xhtml">
                Vektor der Frequenzen
              </xs:documentation>
            </xs:annotation>
          </xs:element>
          <xs:element name="phase" type="pv:angleVector">
            <xs:annotation>
              <xs:documentation xml:lang="de" xmlns="http://www.w3.org/1999/xhtml">
                Vektor der Phasenwinkel
              </xs:documentation>
            </xs:annotation>
          </xs:element>
        </xs:sequence> 
      </xs:extension>
    </xs:complexContent>
  </xs:complexType>   

  <xs:element name="StepFunction1_VS" substitutionGroup="Function1_VS" type="StepFunction1_VSType">
  </xs:element>
  <xs:complexType name="StepFunction1_VSType">
    <xs:complexContent>
      <xs:extension base="Function1_VSType">
        <xs:sequence>
          <xs:element name="time" type="pv:unknownVector">
          </xs:element>
          <xs:element name="size" type="pv:unknownVector">
          </xs:element>
        </xs:sequence> 
      </xs:extension>
    </xs:complexContent>
  </xs:complexType>   

  <xs:element name="TabularFunction1_VS" substitutionGroup="Function1_VS" type="TabularFunction1_VSType">
  </xs:element>
  <xs:complexType name="TabularFunction1_VSType">
    <xs:complexContent>
      <xs:extension base="Function1_VSType">
        <xs:sequence>
          <xs:choice>
            <xs:sequence>
              <xs:element name="x" type="pv:unknownVector">
              </xs:element>
              <xs:element name="y" type="pv:unknownMatrix">
              </xs:element>
            </xs:sequence>
            <xs:element name="xy" type="pv:unknownMatrix">
            </xs:element>
          </xs:choice>
        </xs:sequence> 
      </xs:extension>
    </xs:complexContent>
  </xs:complexType>   

  <xs:element name="PeriodicTabularFunction1_VS" substitutionGroup="TabularFunction1_VS" type="PeriodicTabularFunction1_VSType">
  </xs:element>
  <xs:complexType name="PeriodicTabularFunction1_VSType">
    <xs:complexContent>
      <xs:extension base="TabularFunction1_VSType"/>
    </xs:complexContent>
  </xs:complexType>   

  <xs:element name="DifferentiableFunction1_VS" substitutionGroup="Function1_VS" type="DifferentiableFunction1_VS" abstract="true">
    <xs:annotation>
      <xs:documentation xml:lang="de" xmlns="http://www.w3.org/1999/xhtml">
        Abstrakte Klasse von stetig ableitbaren Funktionen. Durch die Angabe des Ableitungsgrades n liefert der Funktionswert die n-te Ableitung der angegebenen Funktion zurück.
      </xs:documentation>
    </xs:annotation>
  </xs:element>
  <xs:complexType name="DifferentiableFunction1_VS">
    <xs:complexContent>
      <xs:extension base="Function1_VSType">
        <xs:sequence>
          <xs:element name="orderOfDerivative" type="xs:nonNegativeInteger" minOccurs="0">
            <xs:annotation>
              <xs:documentation xml:lang="de" xmlns="http://www.w3.org/1999/xhtml">
                Grad der Ableitung
              </xs:documentation>
            </xs:annotation>
          </xs:element>
        </xs:sequence> 
      </xs:extension>
    </xs:complexContent>
  </xs:complexType>   

  <xs:element name="QuadraticFunction1_VS" substitutionGroup="DifferentiableFunction1_VS" type="QuadraticFunction1_VSType">
    <xs:annotation>
      <xs:documentation xml:lang="de" xmlns="http://www.w3.org/1999/xhtml">
        Quadratische Funktion mit <object class="inlineeqn">\boldsymbol{y}_i= a_{0_i} + a_{1_i} \, x + a_{2_i} \, x^2</object>
      </xs:documentation>
    </xs:annotation>
  </xs:element>
  <xs:complexType name="QuadraticFunction1_VSType">
    <xs:complexContent>
      <xs:extension base="DifferentiableFunction1_VS">
        <xs:sequence>
          <xs:element name="a0" type="pv:unknownVector">
            <xs:annotation>
              <xs:documentation xml:lang="de" xmlns="http://www.w3.org/1999/xhtml">
                Faktor <object class="inlineeqn">a_0</object>
              </xs:documentation>
            </xs:annotation>
          </xs:element>
          <xs:element name="a1" type="pv:unknownVector">
            <xs:annotation>
              <xs:documentation xml:lang="de" xmlns="http://www.w3.org/1999/xhtml">
                Faktor <object class="inlineeqn">a_1</object>
              </xs:documentation>
            </xs:annotation>
          </xs:element>
          <xs:element name="a2" type="pv:unknownVector">
            <xs:annotation>
              <xs:documentation xml:lang="de" xmlns="http://www.w3.org/1999/xhtml">
                Faktor <object class="inlineeqn">a_2</object>
              </xs:documentation>
            </xs:annotation>
          </xs:element>
        </xs:sequence> 
      </xs:extension>
    </xs:complexContent>
  </xs:complexType>   

  <xs:element name="SinusFunction1_VS" substitutionGroup="DifferentiableFunction1_VS" type="SinusFunction1_VSType">
    <xs:annotation>
      <xs:documentation xml:lang="de" xmlns="http://www.w3.org/1999/xhtml">
        Periodische Funktion mit <object class="inlineeqn">\boldsymbol{y}_i= A_i \, \sin \left( 2 \, \pi \, f_i \, x + \varphi_i \right)</object>
      </xs:documentation>
    </xs:annotation>
  </xs:element>
  <xs:complexType name="SinusFunction1_VSType">
    <xs:complexContent>
      <xs:extension base="DifferentiableFunction1_VS">
        <xs:sequence>
          <xs:element name="amplitude" type="pv:unknownVector">
            <xs:annotation>
              <xs:documentation xml:lang="de" xmlns="http://www.w3.org/1999/xhtml">
                Amplitude
              </xs:documentation>
            </xs:annotation>
          </xs:element>
          <xs:element name="frequency" type="pv:unknownVector">
            <xs:annotation>
              <xs:documentation xml:lang="de" xmlns="http://www.w3.org/1999/xhtml">
                Frequenz
              </xs:documentation>
            </xs:annotation>
          </xs:element>
          <xs:element name="phase" type="pv:angleVector">
            <xs:annotation>
              <xs:documentation xml:lang="de" xmlns="http://www.w3.org/1999/xhtml">
                Phasenversatz
              </xs:documentation>
            </xs:annotation>
          </xs:element>
        </xs:sequence> 
      </xs:extension>
    </xs:complexContent>
  </xs:complexType>   

  <xs:element name="PiecewisePolynom1_VS" substitutionGroup="DifferentiableFunction1_VS" type="PiecewisePolynom1_VSType">
  </xs:element>
  <xs:complexType name="PiecewisePolynom1_VSType">
    <xs:complexContent>
      <xs:extension base="DifferentiableFunction1_VS">
        <xs:sequence>
          <xs:choice>
            <xs:sequence>
              <xs:element name="x" type="pv:unknownVector">
              </xs:element>
              <xs:element name="y" type="pv:unknownMatrix">
              </xs:element>
            </xs:sequence>
            <xs:element name="xy" type="pv:unknownMatrix"/>
          </xs:choice>
          <xs:choice>
            <xs:element name="cSplinePeriodic">
            </xs:element>
            <xs:element name="cSplineNatural">
            </xs:element>
            <xs:element name="piecewiseLinear">
            </xs:element>
          </xs:choice>
        </xs:sequence> 
      </xs:extension>
    </xs:complexContent>
  </xs:complexType>   

  <xs:element name="Function2_SSS" abstract="true" type="Function2_SSSType"/>
  <xs:complexType name="Function2_SSSType"/>

  <xs:element name="ConstantFunction2_SSS" substitutionGroup="Function2_SSS" type="ConstantFunction2_SSSType"/>
  <xs:complexType name="ConstantFunction2_SSSType">
    <xs:complexContent>
      <xs:extension base="Function2_SSSType">
        <xs:sequence>
          <xs:element name="value" type="pv:unknownScalar"/>
        </xs:sequence> 
      </xs:extension>
    </xs:complexContent>
  </xs:complexType>   

  <xs:element name="LinearSpringDamperForce" substitutionGroup="Function2_SSS" type="LinearSpringDamperForceType"/>
  <xs:complexType name="LinearSpringDamperForceType">
    <xs:complexContent>
      <xs:extension base="Function2_SSSType">
        <xs:sequence>
          <xs:element name="stiffnessCoefficient" type="pv:stiffnessScalar"/>
          <xs:element name="dampingCoefficient" type="pv:dampingScalar"/>
          <xs:element name="unloadedLength" type="pv:lengthScalar"/>
        </xs:sequence> 
      </xs:extension>
    </xs:complexContent>
  </xs:complexType>   

  <xs:element name="NonlinearSpringDamperForce" substitutionGroup="Function2_SSS" type="NonlinearSpringDamperForceType"/>
  <xs:complexType name="NonlinearSpringDamperForceType">
    <xs:complexContent>
      <xs:extension base="Function2_SSSType">
        <xs:sequence>
          <xs:element name="distanceForce">
            <xs:complexType>
              <xs:sequence>
                <xs:element ref="Function1_VS"/>
              </xs:sequence>
            </xs:complexType>
          </xs:element>
          <xs:element name="velocityForce">
            <xs:complexType>
              <xs:sequence>
                <xs:element ref="Function1_VS"/>
              </xs:sequence>
            </xs:complexType>
          </xs:element>
        </xs:sequence> 
      </xs:extension>
    </xs:complexContent>
  </xs:complexType>   

  <xs:element name="LinearRegularizedUnilateralConstraint" substitutionGroup="Function2_SSS" type="LinearRegularizedUnilateralConstraintType"/>
  <xs:complexType name="LinearRegularizedUnilateralConstraintType">
    <xs:complexContent>
      <xs:extension base="Function2_SSSType">
        <xs:sequence>
          <xs:element name="stiffnessCoefficient" type="pv:stiffnessScalar"/>
          <xs:element name="dampingCoefficient" type="pv:dampingScalar"/>
        </xs:sequence> 
      </xs:extension>
    </xs:complexContent>
  </xs:complexType>   

  <xs:element name="LinearRegularizedBilateralConstraint" substitutionGroup="Function2_SSS" type="LinearRegularizedBilateralConstraintType"/>
  <xs:complexType name="LinearRegularizedBilateralConstraintType">
    <xs:complexContent>
      <xs:extension base="Function2_SSSType">
        <xs:sequence>
          <xs:element name="stiffnessCoefficient" type="pv:stiffnessScalar"/>
          <xs:element name="dampingCoefficient" type="pv:dampingScalar"/>
        </xs:sequence> 
      </xs:extension>
    </xs:complexContent>
  </xs:complexType>   

  <xs:element name="Function2_VVS" abstract="true" type="Function2_VVSType"/>
  <xs:complexType name="Function2_VVSType"/>

  <xs:element name="LinearRegularizedCoulombFriction" abstract="true" substitutionGroup="Function2_VVS" type="LinearRegularizedCoulombFrictionType"/>
  <xs:complexType name="LinearRegularizedCoulombFrictionType">
    <xs:complexContent>
      <xs:extension base="Function2_VVSType">
        <xs:sequence>
          <xs:element name="marginalVelocity" type="pv:velocityScalar" minOccurs="0"/>
          <xs:element name="frictionCoefficient" type="pv:nounitScalar"/>
        </xs:sequence> 
      </xs:extension>
    </xs:complexContent>
  </xs:complexType>   

  <xs:element name="FunctionContour" abstract="true" type="FunctionContourType"/>
  <xs:complexType name="FunctionContourType"/>

  <xs:element name="LinearRegularizedPlanarCoulombFriction" substitutionGroup="LinearRegularizedCoulombFriction" type="LinearRegularizedPlanarCoulombFrictionType"/>
  <xs:complexType name="LinearRegularizedPlanarCoulombFrictionType">
    <xs:complexContent>
      <xs:extension base="LinearRegularizedCoulombFrictionType"/>
    </xs:complexContent>
  </xs:complexType>   

  <xs:element name="LinearRegularizedSpatialCoulombFriction" substitutionGroup="LinearRegularizedCoulombFriction" type="LinearRegularizedSpatialCoulombFrictionType"/>
  <xs:complexType name="LinearRegularizedSpatialCoulombFrictionType">
    <xs:complexContent>
      <xs:extension base="LinearRegularizedCoulombFrictionType"/>
    </xs:complexContent>
  </xs:complexType>   

  <xs:element name="LinearRegularizedPlanarStribeckFriction" substitutionGroup="Function2_VVS" type="LinearRegularizedPlanarStribeckFrictionType"/>
  <xs:complexType name="LinearRegularizedPlanarStribeckFrictionType">
    <xs:complexContent>
      <xs:extension base="Function2_VVSType">
        <xs:sequence>
          <xs:element name="marginalVelocity" type="pv:velocityScalar" minOccurs="0"/>
          <xs:element name="frictionFunction">
            <xs:complexType>
              <xs:sequence>
                <xs:element ref="Function1_SS"/>
              </xs:sequence>
            </xs:complexType> 
          </xs:element>
        </xs:sequence> 
      </xs:extension>
    </xs:complexContent>
  </xs:complexType>   

  <xs:element name="Function3_MVVS" abstract="true" type="Function3_MVVSType"/>
  <xs:complexType name="Function3_MVVSType"/>

</xs:schema>
